(function(e,t){e("JC.Dialog",["JC.Panel.default"],function(){var e=!!window.ActiveXObject&&!window.XMLHttpRequest,t=window.Dialog=JC.Dialog=function(e,t,r,i){n.timeout&&clearTimeout(n.timeout);if(JC.Panel.getInstance(e))return n.timeout=setTimeout(function(){JC.Panel.getInstance(e).show(0)},n.showMs),JC.Panel.getInstance(e);n.dialogIdentifier();var s=new JC.Panel(e,t,r,i);return n.dialogIdentifier(s),n.showMask(),s.selector().css("z-index",window.ZINDEX_COUNT++),!s.selector().is("[panelclickclose]")&&s.selector().attr("panelclickclose",!1),s.on("close_default",function(e,t){n.hideMask()}),s.on("hide_default",function(e,t){n.hideMask()}),s.on("show_default",function(e,t){n.showMask(),setTimeout(function(){n.showMask(),s.selector().css({"z-index":window.ZINDEX_COUNT++,display:"block"})},1)}),n.timeout=setTimeout(function(){s.show(0)},n.showMs),s};JC.Dialog.mask=function(e){!e&&n.showMask(),e&&n.hideMask()};var n={timeout:null,showMs:10,dialogIdentifier:function(e){e?(e.selector().addClass("UPanelDialog_identifer"),e.selector().data("DialogInstance",e)):(n.hideMask(),$("body > div.UPanelDialog_identifer").each(function(){var e=$(this),t=Panel.getInstance(e);if(!t)return;t.hide(),t.close()}),$("body > div.UPanel_TMP").remove())},showMask:function(){var e=$("#UPanelMask"),t=$("#UPanelMaskIfrmae");e.length||($(n.tpls.mask).appendTo("body"),e=$("#UPanelMask"),t=$("#UPanelMaskIfrmae")),t.show(),e.show(),n.setMaskSizeForIe6(),t.css("z-index",window.ZINDEX_COUNT++),e.css("z-index",window.ZINDEX_COUNT++)},hideMask:function(){var e=$("#UPanelMask"),t=$("#UPanelMaskIfrmae");e.length&&e.hide(),t.length&&t.hide()},setMaskSizeForIe6:function(){var e=$("#UPanelMask"),t=$("#UPanelMaskIfrmae");if(!e.length||!t.length)return;var n={position:"absolute",top:"0px",left:$(document).scrollLeft()+"px",height:$(document).height()+"px",width:$(window).width()+"px"};e.css(n),t.css(n)},tpls:{mask:['<div id="UPanelMask" class="UPanelMask"></div>','<iframe src="about:blank" id="UPanelMaskIfrmae"',' frameborder="0" class="UPanelMaskIframe"></iframe>'].join("")}};return $(window).on("resize scroll",function(e){$("body > div.UPanelDialog_identifer").each(function(){var t=$(this);if(t.data("DialogInstance")){if(!t.data("DialogInstance").selector().is(":visible"))return;e.type.toLowerCase()=="resize"&&t.data("DialogInstance").center(),n.setMaskSizeForIe6()}})}),JC.Dialog})})(typeof define=="function"&&define.amd?define:function(e,t,n){typeof e=="function"&&(n=e),typeof t=="function"&&(n=t),n&&n()},window);