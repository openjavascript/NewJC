function context(e,t){describe(e,t)}function build(){$("body").append('<div id="element"></div>')}function buildDivTarget(){$("body").append('<div id="hint"></div>')}function buildComboboxTarget(){$("body").append('<select id="hint"><option value="Cancel this rating!">cancel hint default</option><option value="cancel-hint-custom">cancel hint custom</option><option value="">cancel number default</option><option value="0">cancel number custom</option><option value="bad">bad hint imutable</option><option value="1">bad number imutable</option><option value="targetText">targetText is setted without targetKeep</option><option value="score: bad">targetFormat</option></select>')}function buildTextareaTarget(){$("body").append('<textarea id="hint"></textarea>')}function buildTextTarget(){$("body").append('<input id="hint" type="text" />')}function clear(){isClear&&($("#element").remove(),$("#hint").remove())}isClear=!0,describe("Raty",function(){beforeEach(function(){build()}),afterEach(function(){clear()}),it("has the right values",function(){var e=$.fn.raty,t=e.defaults;expect(t.cancel).toBeFalsy(),expect(t.cancelHint).toEqual("Cancel this rating!"),expect(t.cancelOff).toEqual("cancel-off.png"),expect(t.cancelOn).toEqual("cancel-on.png"),expect(t.cancelPlace).toEqual("left"),expect(t.click).toBeUndefined(),expect(t.half).toBeFalsy(),expect(t.halfShow).toBeTruthy(),expect(t.hints).toContain("bad","poor","regular","good","gorgeous"),expect(t.iconRange).toBeUndefined(),expect(t.mouseover).toBeUndefined(),expect(t.noRatedMsg).toEqual("Not rated yet!"),expect(t.number).toBe(5),expect(t.path).toEqual(""),expect(t.precision).toBeFalsy(),expect(t.readOnly).toBeFalsy(),expect(t.round.down).toEqual(.25),expect(t.round.full).toEqual(.6),expect(t.round.up).toEqual(.76),expect(t.score).toBeUndefined(),expect(t.scoreName).toEqual("score"),expect(t.single).toBeFalsy(),expect(t.size).toBe(16),expect(t.space).toBeTruthy(),expect(t.starHalf).toEqual("star-half.png"),expect(t.starOff).toEqual("star-off.png"),expect(t.starOn).toEqual("star-on.png"),expect(t.target).toBeUndefined(),expect(t.targetFormat).toEqual("{score}"),expect(t.targetKeep).toBeFalsy(),expect(t.targetText).toEqual(""),expect(t.targetType).toEqual("hint"),expect(t.width).toBeUndefined()}),describe("common features",function(){it("is chainable",function(){var e=$("#element"),t=e.raty();expect(t).toBe(e)}),it("creates the default markup",function(){var e=$("#element");e.raty();var t=e.children("img"),n=e.children("input");expect(t.eq(0)).toHaveAttr("title","bad"),expect(t.eq(1)).toHaveAttr("title","poor"),expect(t.eq(2)).toHaveAttr("title","regular"),expect(t.eq(3)).toHaveAttr("title","good"),expect(t.eq(4)).toHaveAttr("title","gorgeous"),expect(t).toHaveAttr("src","star-off.png"),expect(n).toHaveAttr("type","hidden"),expect(n).toHaveAttr("name","score"),expect(n.val()).toEqual("")})}),describe("#star",function(){it("starts all off",function(){var e=$("#element");e.raty(),expect(e.children("img")).toHaveAttr("src","star-off.png")}),context("on :mouseover",function(){it("turns on the stars",function(){var e=$("#element").raty(),t=e.children("img");t.eq(4).mouseover(),expect(t).toHaveAttr("src","star-on.png")}),context("and :mouseout",function(){it("clears all stars",function(){var e=$("#element").raty(),t=e.children("img");t.eq(4).mouseover().mouseout(),expect(t).toHaveAttr("src","star-off.png")})})}),context("on rating",function(){it("changes the score",function(){var e=$("#element").raty(),t=e.children("img");t.eq(1).mouseover().click(),expect(e.children("input")).toHaveValue(2)}),context("on :mouseout",function(){it("keeps the stars on",function(){var e=$("#element").raty(),t=e.children("img");t.eq(4).mouseover().click().mouseout(),expect(t).toHaveAttr("src","star-on.png")})})})}),describe("options",function(){describe("#numberMax",function(){it("limits to 20 stars",function(){var e=$("#element").raty({number:50,score:50}),t=e.raty("score");expect(e.children("img").length).toEqual(20),expect(e.children("input")).toHaveValue(20)}),context("with custom numberMax",function(){it("chages the limit",function(){var e=$("#element").raty({numberMax:10,number:50,score:50}),t=e.raty("score");expect(e.children("img").length).toEqual(10),expect(e.children("input")).toHaveValue(10)})})}),describe("#starOff",function(){it("changes the icons",function(){var e=$("#element");e.raty({starOff:"icon.png"}),expect(e.children("img")).toHaveAttr("src","icon.png")})}),describe("#starOn",function(){it("changes the icons",function(){var e=$("#element").raty({starOn:"icon.png"}),t=e.children("img");t.eq(3).mouseover(),expect(t.eq(0)).toHaveAttr("src","icon.png"),expect(t.eq(1)).toHaveAttr("src","icon.png"),expect(t.eq(2)).toHaveAttr("src","icon.png"),expect(t.eq(3)).toHaveAttr("src","icon.png"),expect(t.eq(4)).toHaveAttr("src","star-off.png")})}),describe("#iconRange",function(){it("uses icon intervals",function(){var e=$("#element");e.raty({iconRange:[{range:2,on:"a.png",off:"a-off.png"},{range:3,on:"b.png",off:"b-off.png"},{range:4,on:"c.png",off:"c-off.png"},{range:5,on:"d.png",off:"d-off.png"}]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","a-off.png"),expect(t.eq(1)).toHaveAttr("src","a-off.png"),expect(t.eq(2)).toHaveAttr("src","b-off.png"),expect(t.eq(3)).toHaveAttr("src","c-off.png"),expect(t.eq(4)).toHaveAttr("src","d-off.png")}),context("when off icon is not especified",function(){it("uses the :starOff icon",function(){var e=$("#element");e.raty({iconRange:[{range:2,on:"on.png",off:"off.png"},{range:3,on:"on.png",off:"off.png"},{range:4,on:"on.png",off:"off.png"},{range:5,on:"on.png"}]}),expect(e.children("img").eq(4)).toHaveAttr("src","star-off.png")})}),context("on mouseover",function(){it("uses the on icon",function(){var e=$("#element").raty({iconRange:[{range:2,on:"a.png",off:"a-off.png"},{range:3,on:"b.png",off:"b-off.png"},{range:4,on:"c.png",off:"c-off.png"},{range:5,on:"d.png",off:"d-off.png"}]}),t=e.children("img");t.eq(4).mouseover(),expect(t.eq(0)).toHaveAttr("src","a.png"),expect(t.eq(1)).toHaveAttr("src","a.png"),expect(t.eq(2)).toHaveAttr("src","b.png"),expect(t.eq(3)).toHaveAttr("src","c.png"),expect(t.eq(4)).toHaveAttr("src","d.png")}),context("when on icon is not especified",function(){it("uses the :starOn icon",function(){var e=$("#element").raty({iconRange:[{range:2,off:"off.png",on:"on.png"},{range:3,off:"off.png",on:"on.png"},{range:4,off:"off.png",on:"on.png"},{range:5,off:"off.png"}]}),t=e.children("img");t.eq(4).mouseover(),expect(t.eq(0)).toHaveAttr("src","on.png"),expect(t.eq(1)).toHaveAttr("src","on.png"),expect(t.eq(2)).toHaveAttr("src","on.png"),expect(t.eq(3)).toHaveAttr("src","on.png"),expect(t.eq(4)).toHaveAttr("src","star-on.png")})})}),context("on mouseout",function(){it("changes to off icons",function(){var e=$("#element").raty({iconRange:[{range:2,on:"a.png",off:"a-off.png"},{range:3,on:"b.png",off:"b-off.png"},{range:4,on:"c.png",off:"c-off.png"},{range:5,on:"d.png",off:"d-off.png"}]}),t=e.children("img");t.eq(4).mouseover(),e.mouseleave(),expect(t.eq(0)).toHaveAttr("src","a-off.png"),expect(t.eq(1)).toHaveAttr("src","a-off.png"),expect(t.eq(2)).toHaveAttr("src","b-off.png"),expect(t.eq(3)).toHaveAttr("src","c-off.png"),expect(t.eq(4)).toHaveAttr("src","d-off.png")}),it("keeps the score value",function(){var e=$("#element").raty({iconRange:[{range:2,on:"a.png",off:"a-off.png"},{range:3,on:"b.png",off:"b-off.png"},{range:4,on:"c.png",off:"c-off.png"},{range:5,on:"d.png",off:"d-off.png"}],score:1});e.children("img").eq(4).mouseover(),e.mouseleave(),expect(e.children("input")).toHaveValue(1)}),context("when off icon is not especified",function(){it("uses the :starOff icon",function(){var e=$("#element").raty({iconRange:[{range:2,on:"on.png",off:"off.png"},{range:3,on:"on.png",off:"off.png"},{range:4,on:"on.png",off:"off.png"},{range:5,on:"on.png"}]}),t=e.children("img").eq(4);t.mouseover(),e.mouseleave(),expect(t).toHaveAttr("src","star-off.png")})})})}),describe("#click",function(){it("has `this` as the self element",function(){var e=$("#element").raty({click:function(){$(this).data("self",this)}});e.children("img:first").mouseover().click(),expect(e.data("self")).toBe(e)}),it("is called on star click",function(){var e=$("#element").raty({click:function(){$(this).data("clicked",!0)}});e.children("img:first").mouseover().click(),expect(e.data("clicked")).toBeTruthy()}),it("receives the score",function(){var e=$("#element").raty({click:function(e){$(this).data("score",e)}});e.children("img:first").mouseover().click(),expect(e.data("score")).toEqual(1)}),context("with :cancel",function(){it("executes cancel click callback",function(){var e=$("#element").raty({cancel:!0,click:function(e){$(this).data("score",null)}});e.children(".raty-cancel").mouseover().click().mouseleave(),expect(e.data("score")).toBeNull()})})}),describe("#score",function(){it("starts with value",function(){var e=$("#element");e.raty({score:1}),expect(e.children("input")).toHaveValue(1)}),it("turns on 1 stars",function(){var e=$("#element");e.raty({score:1});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-on.png"),expect(t.eq(1)).toHaveAttr("src","star-off.png"),expect(t.eq(2)).toHaveAttr("src","star-off.png"),expect(t.eq(3)).toHaveAttr("src","star-off.png"),expect(t.eq(4)).toHaveAttr("src","star-off.png")}),it("accepts callback",function(){var e=$("#element");e.raty({score:function(){return 1}}),expect(e.raty("score")).toEqual(1)}),context("with negative number",function(){it("gets none score",function(){var e=$("#element");e.raty({score:-1}),expect(e.children("input").val()).toEqual("")})}),context("with :readOnly",function(){it("becomes readOnly too",function(){var e=$("#element");e.raty({readOnly:!0}),expect(e.children("input")).toHaveAttr("readonly","readonly")})})}),describe("#scoreName",function(){it("changes the score field name",function(){var e=$("#element");e.raty({scoreName:"entity.score"}),expect(e.children("input")).toHaveAttr("name","entity.score")})}),it("accepts callback",function(){var e=$("#element");e.raty({scoreName:function(){return"custom"}}),expect(e.data("settings").scoreName).toEqual("custom")}),describe("#readOnly",function(){it('Applies "Not rated yet!" on stars',function(){var e=$("#element");e.raty({readOnly:!0}),expect(e.children("img")).toHaveAttr("title","Not rated yet!")}),it("removes the pointer cursor",function(){var e=$("#element");e.raty({readOnly:!0}),expect(e).not.toHaveCss({cursor:"pointer"}),expect(e).not.toHaveCss({cursor:"default"})}),it("accepts callback",function(){var e=$("#element");e.raty({readOnly:function(){return!0}}),expect(e.data("settings").readOnly).toEqual(!0)}),it("avoids trigger mouseover",function(){var e=$("#element").raty({readOnly:!0}),t=e.children("img");t.eq(1).mouseover(),expect(t).toHaveAttr("src","star-off.png")}),it("avoids trigger click",function(){var e=$("#element").raty({readOnly:!0}),t=e.children("img");t.eq(1).mouseover().click().mouseleave(),expect(t).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual("")}),it("avoids trigger mouseleave",function(){var e=$("#element").raty({readOnly:!0,mouseout:function(){$(this).data("mouseleave",!0)}}),t=e.children("img");t.eq(1).mouseover(),e.mouseleave(),expect(e.data("mouseleave")).toBeFalsy()}),context("with :score",function(){context("as integer",function(){it("applies the score title on stars",function(){var e=$("#element");e.raty({readOnly:!0,score:3}),expect(e.children("img")).toHaveAttr("title","regular")})}),context("as float",function(){it("applies the integer score title on stars",function(){var e=$("#element");e.raty({readOnly:!0,score:3.1}),expect(e.children("img")).toHaveAttr("title","regular")})})}),context("with :cancel",function(){it("hides the button",function(){var e=$("#element");e.raty({cancel:!0,readOnly:!0,path:"../lib/img"}),expect(e.children(".raty-cancel")).toBeHidden()})})}),describe("#hints",function(){it("changes the hints",function(){var e=$("#element");e.raty({hints:["1","/","c","-","#"]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("title",1),expect(t.eq(1)).toHaveAttr("title","/"),expect(t.eq(2)).toHaveAttr("title","c"),expect(t.eq(3)).toHaveAttr("title","-"),expect(t.eq(4)).toHaveAttr("title","#")}),it("receives the number of the star when is undefined",function(){var e=$("#element");e.raty({hints:[undefined,"a","b","c","d"]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("title","bad"),expect(t.eq(1)).toHaveAttr("title","a"),expect(t.eq(2)).toHaveAttr("title","b"),expect(t.eq(3)).toHaveAttr("title","c"),expect(t.eq(4)).toHaveAttr("title","d")}),it("receives empty when is empty string",function(){var e=$("#element");e.raty({hints:["","a","b","c","d"]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("title",""),expect(t.eq(1)).toHaveAttr("title","a"),expect(t.eq(2)).toHaveAttr("title","b"),expect(t.eq(3)).toHaveAttr("title","c"),expect(t.eq(4)).toHaveAttr("title","d")}),it("receives the number of the star when is null",function(){var e=$("#element");e.raty({hints:[null,"a","b","c","d"]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("title",1),expect(t.eq(1)).toHaveAttr("title","a"),expect(t.eq(2)).toHaveAttr("title","b"),expect(t.eq(3)).toHaveAttr("title","c"),expect(t.eq(4)).toHaveAttr("title","d")}),context("whe has less hint than stars",function(){it("receives the default hint index",function(){var e=$("#element");e.raty({hints:["1","2","3","4"]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("title",1),expect(t.eq(1)).toHaveAttr("title",2),expect(t.eq(2)).toHaveAttr("title",3),expect(t.eq(3)).toHaveAttr("title",4),expect(t.eq(4)).toHaveAttr("title","gorgeous")})}),context("whe has more stars than hints",function(){it("sets star number",function(){var e=$("#element");e.raty({number:6,hints:["a","b","c","d","e"]});var t=e.children("img");expect(t.eq(0)).toHaveAttr("title","a"),expect(t.eq(1)).toHaveAttr("title","b"),expect(t.eq(2)).toHaveAttr("title","c"),expect(t.eq(3)).toHaveAttr("title","d"),expect(t.eq(4)).toHaveAttr("title","e"),expect(t.eq(5)).toHaveAttr("title",6)})})}),describe("#mouseover",function(){it("receives the score as int",function(){var e=$("#element").raty({mouseover:function(e){$(this).data("score",e)}});e.children("img:first").mouseover(),expect(e.data("score")).toEqual(1)}),it("receives the event",function(){var e=$("#element").raty({mouseover:function(e,t){$(this).data("evt",t)}});e.children("img:first").mouseover(),expect(e.data("evt").type).toEqual("mouseover")}),context("with :cancel",function(){it("receives null as score",function(){var e=$("#element").raty({cancel:!0,mouseover:function(t){e.data("null",t)}});e.children(".raty-cancel").mouseover(),expect(e.data("null")).toBeNull()})})}),describe("#mouseout",function(){it("receives the score as int",function(){var e=$("#element").raty({mouseout:function(e){$(this).data("score",e)}});e.children("img:first").mouseover().click().mouseout(),expect(e.data("score")).toEqual(1)}),it("receives the event",function(){var e=$("#element").raty({mouseout:function(e,t){$(this).data("evt",t)}});e.children("img:first").mouseover().click().mouseout(),expect(e.data("evt").type).toEqual("mouseout")}),context("without score setted",function(){it("pass undefined on callback",function(){var e=$("#element").raty({cancel:!0,mouseout:function(t){e.data("undefined",t===undefined)}});e.children("img:first").mouseenter().mouseleave(),expect(e.data("undefined")).toBeTruthy()})}),context("with :score rated",function(){it("pass the score on callback",function(){var e=$("#element").raty({score:1,mouseout:function(t){e.data("score",t)}});e.children("img:first").mouseenter().mouseleave(),expect(e.data("score")).toEqual(1)})}),context("with :cancel",function(){it("receives the event",function(){var e=$("#element").raty({cancel:!0,mouseout:function(e,t){$(this).data("evt",t)}});e.children(".raty-cancel").mouseover().click().mouseout(),expect(e.data("evt").type).toEqual("mouseout")}),context("without score setted",function(){it("pass undefined on callback",function(){var e=$("#element").raty({mouseout:function(t){e.data("undefined",t===undefined)},cancel:!0});e.children(".raty-cancel").mouseenter().mouseleave(),expect(e.data("undefined")).toBeTruthy()})}),context("with :score rated",function(){it("pass the score on callback",function(){var e=$("#element").raty({mouseout:function(t){e.data("score",t)},cancel:!0,score:1});e.children(".raty-cancel").mouseenter().mouseleave(),expect(e.data("score")).toEqual(1)})})})}),describe("#number",function(){it("changes the number of stars",function(){var e=$("#element");e.raty({number:1}),expect(e.children("img").length).toEqual(1)}),it("accepts number as string",function(){var e=$("#element");e.raty({number:"10"}),expect(e.children("img").length).toEqual(10)}),it("accepts callback",function(){var e=$("#element");e.raty({number:function(){return 1}}),expect(e.children("img").length).toEqual(1)})}),describe("#path",function(){context("without last slash",function(){it("receives the slash",function(){var e=$("#element");e.raty({path:"path"}),expect(e[0].opt.path).toEqual("path/")})}),context("with last slash",function(){it("keeps it",function(){var e=$("#element");e.raty({path:"path/"}),expect(e[0].opt.path).toEqual("path/")})}),it("changes the path",function(){var e=$("#element");e.raty({path:"path"}),expect(e.children("img")).toHaveAttr("src","path/star-off.png")}),context("without path",function(){it("sets receives empty",function(){var e=$("#element");e.raty({path:null}),expect(e.children("img")).toHaveAttr("src","star-off.png")})}),context("with :cancel",function(){it("changes the path",function(){var e=$("#element");e.raty({cancel:!0,path:"path"}),expect(e.children(".raty-cancel")).toHaveAttr("src","path/cancel-off.png")})}),context("with :iconRange",function(){it("changes the path",function(){var e=$("#element");e.raty({path:"path",iconRange:[{range:5}]}),expect(e.children("img")).toHaveAttr("src","path/star-off.png")})})}),describe("#cancelOff",function(){it("changes the icon",function(){var e=$("#element");e.raty({cancel:!0,cancelOff:"off.png"}),expect(e.children(".raty-cancel")).toHaveAttr("src","off.png")})}),describe("#cancelOn",function(){it("changes the icon",function(){var e=$("#element").raty({cancel:!0,cancelOn:"icon.png"}),t=e.children(".raty-cancel").mouseover();expect(t).toHaveAttr("src","icon.png")})}),describe("#cancelHint",function(){it("changes the cancel hint",function(){var e=$("#element");e.raty({cancel:!0,cancelHint:"hint"}),expect(e.children(".raty-cancel")).toHaveAttr("title","hint")})}),describe("#cancelPlace",function(){it("changes the place off cancel button",function(){var e=$("#element");e.raty({cancel:!0,cancelPlace:"right"});var t=e.children("img:last");expect(t).toHaveClass("raty-cancel"),expect(t).toHaveAttr("title","Cancel this rating!"),expect(t).toHaveAttr("alt","x"),expect(t).toHaveAttr("src","cancel-off.png")})}),describe("#cancel",function(){it("creates the element",function(){var e=$("#element");e.raty({cancel:!0});var t=e.children(".raty-cancel");expect(t).toHaveClass("raty-cancel"),expect(t).toHaveAttr("title","Cancel this rating!"),expect(t).toHaveAttr("alt","x"),expect(t).toHaveAttr("src","cancel-off.png")}),context("on mouseover",function(){it("turns on",function(){var e=$("#element").raty({cancel:!0}),t=e.children(".raty-cancel").mouseover();expect(t).toHaveAttr("src","cancel-on.png")}),context("with :score",function(){it("turns off the stars",function(){var e=$("#element").raty({score:3,cancel:!0}),t=e.children("img:not(.raty-cancel)");e.children(".raty-cancel").mouseover(),expect(t).toHaveAttr("src","star-off.png")})})}),context("when :mouseout",function(){it("turns on",function(){var e=$("#element").raty({cancel:!0}),t=e.children(".raty-cancel").mouseover().mouseout();expect(t).toHaveAttr("src","cancel-off.png")}),context("with :score",function(){it("turns the star on again",function(){var e=$("#element").raty({score:4,cancel:!0}),t=e.children("img:not(.raty-cancel)");e.children(".raty-cancel").mouseover().mouseout(),expect(t.eq(0)).toHaveAttr("src","star-on.png"),expect(t.eq(1)).toHaveAttr("src","star-on.png"),expect(t.eq(2)).toHaveAttr("src","star-on.png"),expect(t.eq(3)).toHaveAttr("src","star-on.png"),expect(t.eq(4)).toHaveAttr("src","star-off.png")})})}),context("on click",function(){it("cancel the rating",function(){var e=$("#element").raty({cancel:!0,score:1});e.children(".raty-cancel").click().mouseout();var t=e.children("img:not(.raty-cancel)");expect(t).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual("")})}),context("when starts :readOnly",function(){it("starts hidden",function(){var e=$("#element").raty({cancel:!0,readOnly:!0,path:"../img"});e.raty("readOnly",!0),expect(e.children(".raty-cancel")).toBeHidden()}),context("on click",function(){it("does not cancel the rating",function(){var e=$("#element").raty({cancel:!0,readOnly:!0,score:5});e.children(".raty-cancel").click().mouseout();var t=e.children("img:not(.raty-cancel)");expect(t).toHaveAttr("src","star-on.png"),expect(e.children("input").val()).toEqual("5")})})}),context("when become :readOnly",function(){it("becomes hidden",function(){var e=$("#element").raty({cancel:!0,path:"../img"});e.raty("readOnly",!0),expect(e.children(".raty-cancel")).toBeHidden()})})}),describe("#targetType",function(){beforeEach(function(){buildDivTarget()}),context("with missing target",function(){it("throws error",function(){var e=$("#element"),t=function(){e.raty({target:"missing"})};expect(t).toThrow(new Error("Target selector invalid or missing!"))})}),context("as hint",function(){it("receives the hint",function(){var e=$("#element").raty({target:"#hint",targetType:"hint"});e.children("img:first").mouseover(),expect($("#hint")).toHaveHtml("bad")}),context("with :cancel",function(){it("receives the :cancelHint",function(){var e=$("#element").raty({cancel:!0,target:"#hint",targetType:"hint"});e.children(".raty-cancel").mouseover(),expect($("#hint")).toHaveHtml("Cancel this rating!")})})}),context("as score",function(){it("receives the score",function(){var e=$("#element").raty({target:"#hint",targetType:"score"});e.children("img:first").mouseover(),expect($("#hint")).toHaveHtml(1)}),context("with :cancel",function(){it("receives the :cancelHint",function(){var e=$("#element").raty({cancel:!0,target:"#hint",targetType:"score"});e.children(".raty-cancel").mouseover(),expect($("#hint")).toHaveHtml("Cancel this rating!")})})})}),describe("#targetText",function(){beforeEach(function(){buildDivTarget()}),it("set target with none value",function(){var e=$("#element");e.raty({target:"#hint",targetText:"none"}),expect($("#hint")).toHaveHtml("none")})}),describe("#targetFormat",function(){context("with :target",function(){beforeEach(function(){buildDivTarget()}),it("stars empty",function(){var e=$("#element");e.raty({target:"#hint",targetFormat:"score: {score}"}),expect($("#hint")).toBeEmpty()}),context("with missing score key",function(){it("throws error",function(){var e=$("#element"),t=function(){e.raty({target:"#hint",targetFormat:""})};expect(t).toThrow(new Error('Template "{score}" missing!'))})}),context("on mouseover",function(){it("set target with format on mouseover",function(){var e=$("#element").raty({target:"#hint",targetFormat:"score: {score}"});e.children("img:first").mouseover(),expect($("#hint")).toHaveHtml("score: bad")})}),context("on mouseout",function(){it("clears the target",function(){var e=$("#element").raty({target:"#hint",targetFormat:"score: {score}"});e.children("img:first").mouseover().mouseout(),expect($("#hint")).toBeEmpty()}),context("with :targetKeep",function(){context("without score",function(){it("clears the target",function(){var e=$("#element").raty({target:"#hint",targetFormat:"score: {score}",targetKeep:!0});e.children("img:first").mouseover().mouseleave(),expect($("#hint")).toBeEmpty()})}),context("with score",function(){it("keeps the template",function(){var e=$("#element").raty({score:1,target:"#hint",targetFormat:"score: {score}",targetKeep:!0});e.children("img:first").mouseover().mouseleave(),expect($("#hint")).toHaveHtml("score: bad")})})})})})}),describe("#precision",function(){beforeEach(function(){buildDivTarget()}),it("enables the :half options",function(){var e=$("#element");e.raty({precision:!0}),expect(e.data("settings").half).toBeTruthy()}),it("changes the :targetType to score",function(){var e=$("#element");e.raty({precision:!0}),expect(e.data("settings").targetType).toEqual("score")}),context("with :target",function(){context("with :targetKeep",function(){context("with :score",function(){it("sets the float with one fractional number",function(){var e=$("#element");e.raty({precision:!0,score:1.23,target:"#hint",targetKeep:!0,targetType:"score"}),expect($("#hint")).toHaveHtml("1.2")})})})})}),describe("#target",function(){context("on mouseover",function(){context("as div",function(){beforeEach(function(){buildDivTarget()}),it("sets the hint",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").mouseover(),expect($("#hint")).toHaveHtml("bad")})}),context("as text field",function(){beforeEach(function(){buildTextTarget()}),it("sets the hint",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").mouseover(),expect($("#hint")).toHaveValue("bad")})}),context("as textarea",function(){beforeEach(function(){buildTextareaTarget()}),it("sets the hint",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").mouseover(),expect($("#hint")).toHaveValue("bad")})}),context("as combobox",function(){beforeEach(function(){buildComboboxTarget()}),it("sets the hint",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").mouseover(),expect($("#hint")).toHaveValue("bad")})})}),context("on mouseout",function(){context("as div",function(){beforeEach(function(){buildDivTarget()}),it("gets clear",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").mouseover().click().mouseleave(),expect($("#hint")).toBeEmpty()})}),context("as textarea",function(){beforeEach(function(){buildTextareaTarget()}),it("gets clear",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").click().mouseover().mouseleave(),expect($("#hint")).toHaveValue("")})}),context("as text field",function(){beforeEach(function(){buildTextTarget()}),it("gets clear",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").click().mouseover().mouseleave(),expect($("#hint")).toHaveValue("")})}),context("as combobox",function(){beforeEach(function(){buildComboboxTarget()}),it("gets clear",function(){var e=$("#element").raty({target:"#hint"});e.children("img:first").click().mouseover().mouseleave(),expect($("#hint")).toHaveValue("")})})})}),describe("#size",function(){it("calculate the right icon size",function(){var e=$("#element"),t=24,n=5,r=4;e.raty({size:t}),expect(e.width()).toEqual(n*t+n*r)}),context("with :cancel",function(){it("addes the cancel and space witdh",function(){var e=$("#element"),t=24,n=5,r=t,i=4;e.raty({cancel:!0,size:t}),expect(e.width()).toEqual(r+i+n*t+n*i)})})}),describe("#space",function(){context("when off",function(){it("takes off the space",function(){var e=$("#element");size=16,stars=5,e.raty({space:!1}),expect(e.width()).toEqual(size*stars)}),context("with :cancel",function(){it("takes off the space",function(){var e=$("#element");size=16,stars=5,cancel=size,e.raty({cancel:!0,space:!1}),expect(e.width()).toEqual(cancel+size*stars)})})})}),describe("#single",function(){context("on mouseover",function(){it("turns on just one icon",function(){var e=$("#element").raty({single:!0}),t=e.children("img");t.eq(2).mouseover(),expect(t.eq(0)).toHaveAttr("src","star-off.png"),expect(t.eq(1)).toHaveAttr("src","star-off.png"),expect(t.eq(2)).toHaveAttr("src","star-on.png"),expect(t.eq(3)).toHaveAttr("src","star-off.png"),expect(t.eq(4)).toHaveAttr("src","star-off.png")}),context("with :iconRange",function(){it("shows just on icon",function(){var e=$("#element").raty({single:!0,iconRange:[{range:2,on:"a.png",off:"a-off.png"},{range:3,on:"b.png",off:"b-off.png"},{range:4,on:"c.png",off:"c-off.png"},{range:5,on:"d.png",off:"d-off.png"}]}),t=e.children("img");t.eq(3).mouseover(),expect(t.eq(0)).toHaveAttr("src","a-off.png"),expect(t.eq(1)).toHaveAttr("src","a-off.png"),expect(t.eq(2)).toHaveAttr("src","b-off.png"),expect(t.eq(3)).toHaveAttr("src","c.png"),expect(t.eq(4)).toHaveAttr("src","d-off.png")})})}),context("on click",function(){context("on mouseout",function(){it("keeps the score",function(){var e=$("#element").raty({single:!0});imgs=e.children("img"),imgs.eq(2).mouseover().click().mouseleave(),expect(imgs.eq(0)).toHaveAttr("src","star-off.png"),expect(imgs.eq(1)).toHaveAttr("src","star-off.png"),expect(imgs.eq(2)).toHaveAttr("src","star-on.png"),expect(imgs.eq(3)).toHaveAttr("src","star-off.png"),expect(imgs.eq(4)).toHaveAttr("src","star-off.png")}),context("and :iconRange",function(){it("keeps the score",function(){var e=$("#element").raty({single:!0,iconRange:[{range:2,on:"a.png",off:"a-off.png"},{range:3,on:"b.png",off:"b-off.png"},{range:4,on:"c.png",off:"c-off.png"},{range:5,on:"d.png",off:"d-off.png"}]}),t=e.children("img");t.eq(3).mouseover().click().mouseleave(),expect(t.eq(0)).toHaveAttr("src","a-off.png"),expect(t.eq(1)).toHaveAttr("src","a-off.png"),expect(t.eq(2)).toHaveAttr("src","b-off.png"),expect(t.eq(3)).toHaveAttr("src","c.png"),expect(t.eq(4)).toHaveAttr("src","d-off.png")})})})})}),describe("#width",function(){it("set custom width",function(){var e=$("#element");e.raty({width:200}),expect(e.width()).toEqual(200)}),describe("when it is false",function(){it("does not apply the style",function(){var e=$("#element");e.raty({width:!1}),expect(e).not.toHaveCss({width:"100px"})})}),describe("when :readOnly",function(){it("set custom width when readOnly",function(){var e=$("#element");e.raty({readOnly:!0,width:200}),expect(e.width()).toEqual(200)})})}),describe("#half",function(){context("as false",function(){context("#halfShow",function(){context("as false",function(){it("rounds down while less the full limit",function(){var e=$("#element");e.raty({half:!1,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.5});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-off.png"),expect(t.eq(1)).toHaveAttr("src","star-off.png")}),it("rounds full when equal the full limit",function(){var e=$("#element");e.raty({half:!1,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.6});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-on.png")})})})}),context("as true",function(){context("#halfShow",function(){context("as false",function(){it("ignores round down while less down limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.24});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual("0.24")}),it("ignores half while greater then down limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.26});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual("0.26")}),it("ignores half while equal full limit, ignoring it",function(){var e=$("#element");e.raty({half:!0,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.6});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-on.png"),expect(e.children("input").val()).toEqual("0.6")}),it("ignores half while greater than down limit and less than up limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.75});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-on.png"),expect(e.children("input").val()).toEqual("0.75")}),it("ignores full while equal or greater than up limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!1,round:{down:.25,full:.6,up:.76},score:.76});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-on.png")})}),context("as true",function(){it("rounds down while less down limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!0,round:{down:.25,full:.6,up:.76},score:.24});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-off.png")}),it("receives half while greater then down limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!0,round:{down:.25,full:.6,up:.76},score:.26});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-half.png")}),it("receives half while equal full limit, ignoring it",function(){var e=$("#element");e.raty({half:!0,halfShow:!0,round:{down:.25,full:.6,up:.76},score:.6});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-half.png")}),it("receives half while greater than down limit and less than up limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!0,round:{down:.25,full:.6,up:.76},score:.75});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-half.png")}),it("receives full while equal or greater than up limit",function(){var e=$("#element");e.raty({half:!0,halfShow:!0,round:{down:.25,full:.6,up:.76},score:.76});var t=e.children("img");expect(t.eq(0)).toHaveAttr("src","star-on.png")})})}),context("with :target",function(){beforeEach(function(){buildDivTarget()}),context("and :precision",function(){context("and :targetType as score",function(){context("and :targetKeep",function(){context("and :targetType as score",function(){it("set .5 increment value target with half option and no precision",function(){var e=$("#element");e.raty({half:!0,precision:!1,score:1.5,target:"#hint",targetKeep:!0,targetType:"score"}),expect($("#hint")).toHaveHtml("1.5")})})})})})})})})}),describe("class bind",function(){beforeEach(function(){$("body").append('<div class="element"></div><div class="element"></div>')}),afterEach(function(){$(".element").remove()}),it("is chainable",function(){var e=$(".element"),t=e.raty();expect(t.eq(0)).toBe(e.eq(0)),expect(t.eq(1)).toBe(e.eq(1))}),it("creates the default markup",function(){var e=$(".element");e.raty();var t=e.eq(0).children("img"),n=e.eq(0).children("input");expect(t.eq(0)).toHaveAttr("title","bad"),expect(t.eq(1)).toHaveAttr("title","poor"),expect(t.eq(2)).toHaveAttr("title","regular"),expect(t.eq(3)).toHaveAttr("title","good"),expect(t.eq(4)).toHaveAttr("title","gorgeous"),expect(t).toHaveAttr("src","star-off.png"),expect(n).toHaveAttr("type","hidden"),expect(n).toHaveAttr("name","score"),expect(n.val()).toEqual(""),t=e.eq(1).children("img"),n=e.eq(0).children("input"),expect(t.eq(0)).toHaveAttr("title","bad"),expect(t.eq(1)).toHaveAttr("title","poor"),expect(t.eq(2)).toHaveAttr("title","regular"),expect(t.eq(3)).toHaveAttr("title","good"),expect(t.eq(4)).toHaveAttr("title","gorgeous"),expect(t).toHaveAttr("src","star-off.png"),expect(n).toHaveAttr("type","hidden"),expect(n).toHaveAttr("name","score"),expect(n.val()).toEqual("")})}),describe("functions",function(){describe("GET #score",function(){it("accepts number as string",function(){var e=$("#element");e.raty({score:"1"}),expect(e.children("input")).toHaveValue(1)}),it("accepts float string",function(){var e=$("#element");e.raty({score:"1.5"}),expect(e.children("input")).toHaveValue(1.5)}),context("with integer score",function(){it("gets as int",function(){var e=$("#element").raty({score:1}),t=e.raty("score");expect(t).toEqual(1)})}),context("with float score",function(){it("gets as float",function(){var e=$("#element").raty({score:1.5}),t=e.raty("score");expect(t).toEqual(1.5)})}),context("with score zero",function(){it("gets null to emulate cancel",function(){var e=$("#element").raty({score:0}),t=e.raty("score");expect(t).toEqual(null)})}),context("with score greater than :numberMax",function(){it("gets the max",function(){var e=$("#element").raty({number:50,score:50}),t=e.raty("score");expect(t).toEqual(e.data("settings").numberMax)})})}),describe("SET #score",function(){it("sets the score",function(){var e=$("#element");e.raty({score:1}),expect(e.raty("score")).toEqual(1)}),describe("with :click",function(){it("calls the click callback",function(){var e=$("#element").raty({click:function(e){$(this).data("score",e)}});e.raty("score",5),expect(e.children("img")).toHaveAttr("src","star-on.png")})}),describe("without :click",function(){it("does not throw exception",function(){var e=$("#element").raty(),t=function(){e.raty("score",1)};expect(t).not.toThrow(new Error('You must add the "click: function(score, evt) { }" callback.'))})}),describe("with :readOnly",function(){it("does not set the score",function(){var e=$("#element").raty({readOnly:!0});e.raty("score",5),expect(e.children("img")).toHaveAttr("src","star-off.png")})})}),describe("#set",function(){it("is chainable",function(){var e=$("#element").raty(),t=e.raty("set",{number:1});expect(t).toBe(e)}),it("changes the declared options",function(){var e=$("#element").raty(),t=e.raty("set",{scoreName:"change-just-it"});expect(t.children("input")).toHaveAttr("name","change-just-it")}),it("does not change other none declared options",function(){var e=$("#element").raty({number:6}),t=e.raty("set",{scoreName:"change-just-it"});expect(t.children("img").length).toEqual(6)}),context("with external bind on wrapper",function(){it("keeps it",function(){var e=$("#element").on("click",function(){$(this).data("externalClick",!0)}).raty();e.raty("set",{}).click(),expect(e.data("externalClick")).toBeTruthy()})}),context("when :readOnly by function",function(){it("is removes the readonly data info",function(){var e=$("#element").raty().raty("readOnly",!0),t=e.raty("set",{readOnly:!1});expect(e).not.toHaveData("readonly")})})}),describe("#readOnly",function(){context("changes to true",function(){it("sets score as readonly",function(){var e=$("#element").raty();e.raty("readOnly",!0),expect(e.children("input")).toHaveAttr("readonly","readonly")}),it("removes the pointer cursor",function(){var e=$("#element").raty();e.raty("readOnly",!0),expect(e).not.toHaveCss({cursor:"pointer"}),expect(e).not.toHaveCss({cursor:"default"})}),it('Applies "Not rated yet!" on stars',function(){var e=$("#element").raty();e.raty("readOnly",!0),expect(e.children("img")).toHaveAttr("title","Not rated yet!")}),it("avoids trigger mouseover",function(){var e=$("#element").raty(),t=e.children("img");e.raty("readOnly",!0),t.eq(0).mouseover(),expect(t).toHaveAttr("src","star-off.png")}),it("avoids trigger click",function(){var e=$("#element").raty(),t=e.children("img");e.raty("readOnly",!0),t.eq(0).mouseover().click().mouseleave(),expect(t).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual("")}),context("with :score",function(){it("applies the score title on stars",function(){var e=$("#element").raty({score:1});e.raty("readOnly",!0),expect(e.children("img")).toHaveAttr("title","bad")})}),context("with :cancel",function(){it("hides the button",function(){var e=$("#element").raty({cancel:!0,path:"../lib/img"});e.raty("readOnly",!0),expect(e.children(".raty-cancel")).toBeHidden()})}),context("with external bind on wrapper",function(){it("keeps it",function(){var e=$("#element").on("click",function(){$(this).data("externalClick",!0)}).raty();e.raty("readOnly",!0).click(),expect(e.data("externalClick")).toBeTruthy()})}),context("with external bind on stars",function(){it("keeps it",function(){var e=$("#element").raty(),t=e.children("img").first();t.on("click",function(){e.data("externalClick",!0)}),e.raty("readOnly",!0),t.click(),expect(e.data("externalClick")).toBeTruthy()})})}),context("changes to false",function(){it("removes the :readOnly of the score",function(){var e=$("#element").raty();e.raty("readOnly",!1),expect(e.children("input")).not.toHaveAttr("readonly","readonly")}),it("applies the pointer cursor on wrapper",function(){var e=$("#element").raty();e.raty("readOnly",!1),expect(e).toHaveCss({cursor:"pointer"})}),it('Removes the "Not rated yet!" off the stars',function(){var e=$("#element").raty({readOnly:!0}),t=e.children("img");e.raty("readOnly",!1),expect(t.eq(0)).toHaveAttr("title","bad"),expect(t.eq(1)).toHaveAttr("title","poor"),expect(t.eq(2)).toHaveAttr("title","regular"),expect(t.eq(3)).toHaveAttr("title","good"),expect(t.eq(4)).toHaveAttr("title","gorgeous")}),it("triggers mouseover",function(){var e=$("#element").raty({readOnly:!0}),t=e.children("img");e.raty("readOnly",!1),t.eq(0).mouseover(),expect(t.eq(0)).toHaveAttr("src","star-on.png")}),it("triggers click",function(){var e=$("#element").raty({readOnly:!0}),t=e.children("img");e.raty("readOnly",!1),t.eq(0).mouseover().click().mouseleave(),expect(t).toHaveAttr("src","star-on.png"),expect(e.children("input")).toHaveValue("1")}),context("with :score",function(){it("removes the score title off the stars",function(){var e=$("#element").raty({readOnly:!0,score:3});e.raty("readOnly",!1);var t=e.children("img");expect(t.eq(0)).toHaveAttr("title","bad"),expect(t.eq(1)).toHaveAttr("title","poor"),expect(t.eq(2)).toHaveAttr("title","regular"),expect(t.eq(3)).toHaveAttr("title","good"),expect(t.eq(4)).toHaveAttr("title","gorgeous")})}),context("with :cancel",function(){it("shows the button",function(){var e=$("#element").raty({readOnly:!0,cancel:!0,path:"../lib/img"});e.raty("readOnly",!1),expect(e.children(".raty-cancel")).toBeVisible(),expect(e.children(".raty-cancel")).not.toHaveCss({display:"block"})}),it("rebinds the mouseover",function(){var e=$("#element").raty({readOnly:!0,cancel:!0}),t=e.children(".raty-cancel"),n=e.children("img:not(.raty-cancel)");e.raty("readOnly",!1),t.mouseover(),expect(t).toHaveAttr("src","cancel-on.png"),expect(n).toHaveAttr("src","star-off.png")}),it("rebinds the click",function(){var e=$("#element").raty({readOnly:!0,cancel:!0,score:5}),t=e.children("img:not(.raty-cancel)");e.raty("readOnly",!1),e.children(".raty-cancel").click().mouseout(),expect(t).toHaveAttr("src","star-off.png")})})})}),describe("#cancel",function(){describe("with :readOnly",function(){it("does not cancel",function(){var e=$("#element").raty({readOnly:!0,score:5});e.raty("cancel"),expect(e.children("img")).toHaveAttr("src","star-on.png")})}),context("without click trigger",function(){it("cancel the rating",function(){var e=$("#element").raty({score:1,click:function(){$(this).data("clicked",!0)}});e.raty("cancel"),expect(e.children("img")).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual(""),expect(e.data("clicked")).toBeFalsy()})}),context("with click trigger",function(){it("cancel the rating",function(){var e=$("#element").raty({score:1,click:function(){$(this).data("clicked",!0)}});e.raty("cancel",!0),expect(e.children("img")).toHaveAttr("src","star-off.png"),expect(e.children("input").val()).toEqual(""),expect(e.data("clicked")).toBeTruthy()})}),context("with :target",function(){beforeEach(function(){buildDivTarget()}),context("and :targetKeep",function(){it("sets the :targetText on target",function(){var e=$("#hint").html("dirty"),t=$("#element").raty({cancel:!0,target:"#hint",targetKeep:!0,targetText:"targetText"});t.raty("cancel"),expect(e).toHaveHtml("targetText")})})})}),describe("#click",function(){it("clicks on star",function(){var e=$("#element").raty({click:function(){$(this).data("clicked",!0)}});e.raty("click",1),expect(e.children("img")).toHaveAttr("src","star-on.png"),expect(e.data("clicked")).toBeTruthy()}),it("receives the score",function(){var e=$("#element").raty({click:function(e){$(this).data("score",e)}});e.raty("click",1),expect(e.data("score")).toEqual(1)}),it("receives the event",function(){var e=$("#element").raty({click:function(e,t){$(this).data("evt",t)}});e.raty("click",1),expect(e.data("evt").type).toEqual("click")}),describe("with :readOnly",function(){it("does not set the score",function(){var e=$("#element").raty({readOnly:!0});e.raty("click",1),expect(e.children("img")).toHaveAttr("src","star-off.png")})}),context("without :click",function(){it("throws error",function(){var e=$("#element").raty(),t=function(){e.raty("click",1)};expect(t).toThrow(new Error('You must add the "click: function(score, evt) { }" callback.'))})}),context("with :target",function(){beforeEach(function(){buildDivTarget()}),context("and :targetKeep",function(){it("sets the score on target",function(){var e=$("#element").raty({target:"#hint",targetKeep:!0,click:function(){}});e.raty("click",1),expect($("#hint")).toHaveHtml("bad")})})})}),describe("#reload",function(){it("is chainable",function(){var e=$("#element").raty(),t=e.raty("reload");expect(t).toBe(e)}),it("reloads with the same configuration",function(){var e=$("#element").raty({number:6}),t=e.raty("reload");expect(t.children("img").length).toEqual(6)}),context("when :readOnly by function",function(){it("is removes the readonly data info",function(){var e=$("#element").raty().raty("readOnly",!0),t=e.raty("reload");expect(e).not.toHaveData("readonly")})})}),describe("#destroy",function(){it("is chainable",function(){var e=$("#element").raty(),t=e.raty("destroy");expect(t).toBe(e)}),it("clear the content",function(){var e=$("#element").raty();e.raty("destroy"),expect(e).toBeEmpty()}),it("removes the trigger mouseleave",function(){var e=$("#element").raty({mouseout:function(){console.log(this),$(this).data("mouseleave",!0)}});e.raty("destroy"),e.mouseleave(),expect(e.data("mouseleave")).toBeFalsy()}),it("resets the style attributes",function(){var e=$("#element").css({cursor:"help",width:10}).raty();e.raty("destroy"),expect(e[0].style.cursor).toEqual("help"),expect(e[0].style.width).toEqual("10px")})})})});