<!doctype html>
<html>
    <head>
        <meta charset=utf-8 />
        <title>360 75 team</title>
        <style type='text/css'>
            body{
                width: 600px;
                margin: 20px auto 20px;
            }

            dl.def > dd{
                margin: 10px 0;
            }
        </style>
        <script src="../../../../lib.js"></script>
        <script src="../../../../config.js"></script>
        <script>
            JC.debug = true; 
            requirejs( [ 'JC.Form' ], function( JCForm ){
            });

            $(document).delegate( 'button.js_ajaxTest', 'click', function(){
                var _p = $(this);
                _p.prop('disabled', true);
                JC.Form.disableButton( _p );

                $.get( './data/initCheckAll.php?rnd='+new Date().getTime(), function( _r ){
                    var _selector = $(_r);
                    $( $( 'body' ).children().first() ).before( _selector );
                    JC.Form.initCheckAll( _selector );
                });
            });

            /*
            自动初始化成本太高, 这里就不自动实现了
            动态添加的内容请使用 JC.Form.initCheckAll 方法
            $(document).delegate( 'button.js_autoinit', 'click', function(){
                var _p = $(this);
                JC.Form.disableButton( _p );
                setTimeout( function(){ _p.prop('disabled', false); }, 1000 );

                $.get( './data/autoInitCheckAll.php?rnd='+new Date().getTime(), function( _r ){
                    var _selector = $(_r);
                    $( $( 'body' ).children().first() ).before( _selector );
                });
            });
            */

        </script>
    </head>    
    <body>

        <div style="position:fixed; top: 20px; right: 20px">
            <button type="button" class="js_ajaxTest">ajax test</button>
        </div>
        <!--
        <div style="position:fixed; top: 50px; right: 20px">
            <button type="button" class="js_autoinit">auto init test</button>
        </div>
        -->
        <dl class="def">
            <dt>checkall example 1</dt>
            <dd>
            <label>
                <input type="checkbox"  checktype="all" checkfor="///input[type=checkbox]"> 
                全选
            </label>
            <label>
                <input type="checkbox" checktype="inverse" checkfor="<dl input[type=checkbox]" checkall="<dl input[checktype=all]">
                反选
            </label>
            </dd>
            <dd>
            <label >
                <input type='checkbox' value='' name='' />
                checkall1_1
            </label>
            <label >
                <input type='checkbox' value='' name='' checked />
                checkall1_2
            </label>
            <label >
                <input type='checkbox'value='' name='' />
                checkall1_3
            </label>
            <label >
                <input type='checkbox' value='' name='' checked />
                checkall1_4
            </label>
            <label >
                <input type='checkbox' value='' name='' />
                checkall1_5
            </label>
            </dd>
        </dl>
        <hr />
        <dl class="def example2">
            <dt>checkall example 2</dt>
            <dd>
            <label>
                <input type="checkbox" checktype="all" checkfor="dl.example2 input[type=checkbox]">
                全选
            </label>
            <label>
                <input type="checkbox" checktype="inverse" checkfor="dl.example2 input[type=checkbox]" checkall="dl.example2 input[checktype=all]">
                反选
            </label>
            </dd>
            <dd>
            <label>
                <input type='checkbox' value='' name='' checked />
                checkall2_1
            </label>
            <label>
                <input type='checkbox' value='' name='' checked />
                checkall2_2
            </label>
            <label>
                <input type='checkbox' value='' name='' checked />
                checkall2_3
            </label>
            <label>
                <input type='checkbox' value='' name='' checked />
                checkall2_4
            </label>
            <label>
                <input type='checkbox' value='' name='' checked />
                checkall2_5
            </label>
            </dd>
        </dl>
        <hr />
        <dl class="def example3">
            <dt>checkall example 3</dt>
            <dd>
            <label>
                <input type="checkbox" checked checktype="all" checkfor="dl.example3 input[type=checkbox]">
                全选
            </label>
            <label>
                <input type="checkbox" checktype="inverse" checkfor="dl.example3 input[type=checkbox]" checkall="dl.example3 input[checktype=all]">
                反选
            </label>
            </dd>
            <dd>
            <label>
                <input type='checkbox' value='' name='' />
                checkall3_1
            </label>
            <label >
                <input type='checkbox' value='' name='' checked />
                checkall3_2
            </label>
            <label>
                <input type='checkbox' value='' name='' />
                checkall3_3
            </label>
            <label>
                <input type='checkbox' value='' name='' checked />
                checkall3_4
            </label>
            <label>
                <input type='checkbox' value='' name='' />
                checkall3_5
            </label>
            </dd>
        </dl>
    </body>
</html>

