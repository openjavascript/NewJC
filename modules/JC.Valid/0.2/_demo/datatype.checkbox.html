<!doctype html>
<html>
    <head>
        <meta charset=utf-8 />
        <title>360 75 team</title>
        <style type='text/css'>
            *{ margin: 0; padding: 0; }
            body{ margin: 20px 20px; }
            .cclear{zoom:1;}
            .cclear:after{content:".";display:block;visibility:hidden;height:0;clear:both;}

            .error{ color: red; }
            input.error, select.error, textarea.error{ 
                background-color: #F0DC82;!important;
                box-shadow: 0 none;
            }
            input[type=text], input[type=password]{ width: 200px; }

            dl.fm-items{ margin: 20px 0 20px; }
            dl.fm-items dd { zoom: 1; padding: 5px 0 5px; clear:both; display:block; }
            dl.fm-items dd:after {content:".";display:block;visibility:hidden;height:0;clear:both;}
            dl.fm-items > dt{ text-align: center; font-weight: bold; margin: 20px 0;}

            div.f-l{ float: left; }
            div.label{ width: 320px; text-align: right; padding-right: 20px }

            dd.odd {
                background: #ececec;
            }

            input, select, textarea {
                border: 1px solid #b9b9b9
            }

            input, select {
                height: 23px;
                line-height: 23px;
            }
            input[type=checkbox] {
                height: auto;
                line-height: auto;
            }

        </style>
        <link href='../../../../modules/JC.Calendar/0.2/res/default/style.css' rel='stylesheet' />
        <link href='../../../../modules/JC.Valid/0.2//res/default/style.css' rel='stylesheet' />

        <script src="../../../../lib.js"></script>
        <script src="../../../../config.js"></script>
        <script>
            JC.debug = true;

            requirejs( ['JC.Valid', 'JC.Calendar', 'Bizs.FormLogic', 'JC.AutoChecked' ]
            , function( Valid, Calendar, FormLogic ){
				$(document).delegate( 'button.js-clear-error', 'click', function( $evt ){
                    window.console && console.clear && console.clear();
                    JC.Valid.clearError( 'form.js_valid' );
                });
                /*
                $('form.js_valid')
                .on('submit', function( _evt ){
                    window.console && console.clear && console.clear();
                    _evt.preventDefault();

                    if( !JC.Valid.check( 'form.js_valid' ) ){
                        _evt.preventDefault();
                        return false;
                    }

                    JC.log( 'form process valid', new Date().getTime() );
                });
                */

                $( 'dl.fm-items > dd:odd').addClass( 'odd' );

                /*
                JC.Valid.itemCallback =
                    function( _item, _isValid ){
                        JC.log( 'JC.Valid.itemCallback _isValid:', _isValid );
                    };
                */
            });

        </script>
    </head>    
    <body>

        <form action='?' method='get' class="js_valid js_bizsFormLogic" validmsg="true" >
            <div style="position:fixed; top: 10px; right:10px;">
                <button type="submit">Save</button>
                <button type="button" class="js-clear-error">清空错误信息</button>
            </div>
            <dl class="fm-items">
                <dt>JC.Valid 示例</dt>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> 需要至少选中1个
                    </div>
                    <div class="f-l">
                        <input type="checkbox" datatype="checkbox" value="1" />
                        <input type="checkbox" datatype="checkbox" value="2" />
                        <input type="checkbox" datatype="checkbox" value="3" errmsg="请至少选择1个复选框" />
                        <em class="error"></em>
                        <em class="focusmsg"></em>
                        <em class="validmsg"></em>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox-2:</label> 需要至少选中2个
                    </div>
                    <div class="f-l">
                        <input type="checkbox" datatype="checkbox-2" />
                        <input type="checkbox" datatype="checkbox-2" />
                        <input type="checkbox" datatype="checkbox-2" errmsg="请至少选择2个复选框" />
                        <em class="error"></em>
                        <em class="focusmsg"></em>
                        <em class="validmsg"></em>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox-4:</label> 需要至少选中4个
                    </div>
                    <div class="f-l">
                        <input type="checkbox" datatype="checkbox-4" />
                        <input type="checkbox" datatype="checkbox-4" />
                        <input type="checkbox" datatype="checkbox-4" />
                        <input type="checkbox" datatype="checkbox-4" />
                        <input type="checkbox" datatype="checkbox-4" errmsg="请至少选择4个复选框" />
                        <em class="error"></em>
                        <em class="focusmsg"></em>
                        <em class="validmsg"></em>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> 需要至少选中1个, disabled 
                    </div>
                    <div class="f-l">
                        <input type="checkbox" datatype="checkbox" disabled />
                        <input type="checkbox" datatype="checkbox" disabled />
                        <input type="checkbox" datatype="checkbox" errmsg="请至少选择1个复选框" disabled />
                        <em class="error"></em>
                        <em class="focusmsg"></em>
                        <em class="validmsg"></em>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> 需要至少选中1个, display = none
                    </div>
                    <div class="f-l">
                        <div style="display:none" >
                            <input type="checkbox" datatype="checkbox" />
                            <input type="checkbox" datatype="checkbox" />
                            <input type="checkbox" datatype="checkbox" errmsg="请至少选择1个复选框" />
                            <em class="error"></em>
                            <em class="focusmsg"></em>
                            <em class="validmsg"></em>
                        </div>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> in label
                    </div>
                    <div class="f-l">
                        <div style="" >
                            <label>
                                <input type="checkbox" datatype="checkbox" />1
                            </label>
                            <label><input type="checkbox" datatype="checkbox" />2</label>
                            <label>
                                <input type="checkbox" 
                                datatype="checkbox" 
                                errmsg="请至少选择1个复选框" 
                                />3</label>
                            <em class="error"></em>
                            <em class="focusmsg"></em>
                            <em class="validmsg"></em>
                        </div>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> in label, checkbox-2
                    </div>
                    <div class="f-l">
                        <div style="" >
                            <label>
                                <input type="checkbox" datatype="checkbox-2" />1
                            </label>
                            <label><input type="checkbox" datatype="checkbox-2" />2</label>
                            <label>
                                <input type="checkbox" 
                                datatype="checkbox-2" 
                                errmsg="请至少选择2个复选框" 
                                />3</label>
                            <em class="error"></em>
                            <em class="focusmsg"></em>
                            <em class="validmsg"></em>
                        </div>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> in table, checkbox-2
                    </div>
                    <div class="f-l">
                        <table>
                            <thead>
                                <tr>
                                    <td colspan="5">
                                        <label>
                                            <input type="checkbox" 
                                            checktype="all" 
                                            checkfor="(table input[type=checkbox]" 
                                            checktrigger="change"
                                            />
                                            全选
                                        </label>
                                        <label>
                                            <input type="checkbox" 
                                            checktype="inverse" 
                                            checkfor="(table input[type=checkbox]" 
                                            checkall="(table input[checktype=all]"
                                            checktrigger="change"
                                            />
                                            反选
                                        </label>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='1' name=''
                                            errmsg="请至少选择2个复选框" 
                                            datatype="checkbox-2" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           1
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='2' name='' 
                                            errmsg="请至少选择2个复选框" 
                                            datatype="checkbox-2" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           2
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='3' name='' checked 
                                            errmsg="请至少选择2个复选框" 
                                            datatype="checkbox-2" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           3
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='4' name='' 
                                            errmsg="请至少选择2个复选框" 
                                            datatype="checkbox-2" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           4
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='5' name='' 
                                            errmsg="请至少选择2个复选框" 
                                            datatype="checkbox-2" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           5
                                        </label>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <em class="error"></em>
                        <em class="validmsg"></em>
                    </div>
                </dd>

                <dd>
                    <div class="f-l label">
                        <label>checkbox:</label> in table, checkbox-2.4
                    </div>
                    <div class="f-l">
                        <table>
                            <thead>
                                <tr>
                                    <td colspan="5">
                                        <label>
                                            <input type="checkbox" 
                                            checktype="all" 
                                            checkfor="(table input[type=checkbox]" 
                                            checktrigger="change"
                                            />
                                            全选
                                        </label>
                                        <label>
                                            <input type="checkbox" 
                                            checktype="inverse" 
                                            checkfor="(table input[type=checkbox]" 
                                            checkall="(table input[checktype=all]"
                                            checktrigger="change"
                                            />
                                            反选
                                        </label>
                                    </td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='1' name=''
                                            errmsg="请选择2 ~ 4个复选框" 
                                            datatype="checkbox-2.4" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           1
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='2' name='' 
                                            errmsg="请选择2 ~ 4个复选框" 
                                            datatype="checkbox-2.4" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           2
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='3' name='' checked 
                                            errmsg="请选择2 ~ 4个复选框" 
                                            datatype="checkbox-2.4" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           3
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='4' name='' 
                                            errmsg="请选择2 ~ 4个复选框" 
                                            datatype="checkbox-2.4" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           4
                                        </label>
                                    </td>
                                    <td>
                                        <label>
                                            <input type='checkbox' value='5' name='' 
                                            errmsg="请选择2 ~ 4个复选框" 
                                            datatype="checkbox-2.4" 
                                            datatarget="(tbody input[type=checkbox]"
                                            emel="(div > em.error"
                                            validel="(div > em.validmsg"
                                            />
                                           5
                                        </label>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <em class="error"></em>
                        <em class="validmsg"></em>
                    </div>
                </dd>


                <dd style="padding-top: 20px; padding-left: 280px;">
                    <button type="submit">submit</button>
                    <button type="reset">reset</button>
                    <button type="button" class="js-clear-error">清空错误信息</button>
                </dd>

            </dl>

            <div style="position:fixed; bottom: 10px; right:10px;">
                <button type="submit">Save</button>
                <button type="button" class="js-clear-error">清空错误信息</button>
            </div>
        </form>


    </body>
</html>

