<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AutoComplete</title>
    <style>
        body{
            margin: 20px 40px;
        }
        .ui-sug-mod input{ height: 26px;  outline: 0; text-indent: 3px; }

        .ui-sug-ipt{ width: 400px; max-height: 300px; overflow-y: auto; }
        .ui-sug-ipt{ border: 1px solid #ccc;  padding: 0; }

        .js_bmtSpan{
            color: black;
        }
    </style>
    <link href='../../../../modules/Bizs.MoneyTips/0.1/res/default/style.css' rel='stylesheet' />
    <link href='../../../../modules/JC.Valid/0.2/res/default/style.css' rel='stylesheet' />
    <link href='../../../../modules/JC.Panel/0.1/res/default/style.css' rel='stylesheet' />

    <script src="../../../../lib.js"></script>
    <script src="../../../../config.js"></script>
    <script>
        JC.debug = true;
        requirejs( [ 'Bizs.MoneyTips', 'Bizs.FormLogic', 'JC.Valid' ], function( AutoComplete ){

            $(document).delegate( 'button.js_updateBmt', 'click', function( _evt ){
                var _p = $(this)
                    , _pnt = _p.parent()
                    , _bmtSelector = _pnt.find( 'input.js_bizMoneyTips' )
                    , _ins = Bizs.MoneyTips.getInstance( _bmtSelector )
                    ;
                if( !_ins ) return;

                _ins.update( _bmtSelector.val() || _p.attr( 'data-value' ) );
            });
        });
    </script>
</head>
<body>
    <h2>Bizs.MoneyTips 示例</h2>
    <!--<form action="./data/handler.php" method="get" class="js_bizsFormLogic" formType="ajax">-->
    <form action="?" method="get" class="js_bizsFormLogic">
        <dl>
            <dt>2位小数点</dt>
            <dd>
                金额: <input type="text" name="m1" value="6543.21" 
                datatype="n-12.2" class="js_bizMoneyTips" bmtDisplayLabel="/span.js_bmtSpan" />
                <em class="error"></em>
                <span class="js_bmtSpan"></span>
                <button type="button" class="js_updateBmt" data-value="">MoneyTips#update()</button>
            </dd>

            <dd>
                金额: <input type="text" name="m2" datatype="n-12.2" class="js_bizMoneyTips" />
                <button type="button" class="js_updateBmt" data-value="12345678910.12">MoneyTips#update( 12345678910.12 )</button>
            </dd>

            <dd>
                金额: 
                <input type="text" name="m3" datatype="n-12.2" value="98765432.10"
                class="js_bizMoneyTips" bmtDisplayLabel="/span.js_bmtSpan" />
                <em class="error"></em>
                <span class="js_bmtSpan"></span>
                <button type="button" class="js_updateBmt" data-value="123456789123456789123456789123456789123456789.1234">MoneyTips#update(123456789123456789123456789123456789123456789.1234)</button>
            </dd>

            <dd>
                金额: <input type="text" name="m4" datatype="n-12.2" value="123456789.87"
                class="js_bizMoneyTips" 
                />
                <button type="button" class="js_updateBmt" data-value="12345678910.12">MoneyTips#update( 12345678910.12 )</button>
            </dd>


            <dd>
                金额范围: 
                <input type="text" name="m5_1" datatype="nrange-12.2" 
                    class="js_bizMoneyTips" 
                    bmtDisplayLabel="/span.js_bmtSpanStart" 
                    bmtPattern="起始金额: {0}"
                    />
                <input type="text" name="m5_2" datatype="nrange-12.2" 
                    class="js_bizMoneyTips" 
                    bmtDisplayLabel="/span.js_bmtSpanEnd" 
                    bmtPattern="结束金额: {0}"
                    />
                <em class="error"></em>
                <span class="js_bmtSpanStart"></span>
                <span class="js_bmtSpanEnd"></span>
            </dd>

            <dd>
                <button type="submit">提交</button>
                <button type="reset">重置</button>
                <a href="?">返回</a>
            </dd>
        </dl>

        <dl>
            <dt>0位小数点</dt>
            <dd>
                金额: <input type="text" name="m1" value="6543" floatLen="0"
                datatype="n-12" class="js_bizMoneyTips" bmtDisplayLabel="/span.js_bmtSpan" />
                <em class="error"></em>
                <span class="js_bmtSpan"></span>
                <button type="button" class="js_updateBmt" data-value="">MoneyTips#update()</button>
            </dd>

            <dd>
                金额: <input type="text" name="m1" value="0" floatLen="0"
                datatype="n-12" class="js_bizMoneyTips" bmtDisplayLabel="/span.js_bmtSpan" />
                <em class="error"></em>
                <span class="js_bmtSpan"></span>
                <button type="button" class="js_updateBmt" data-value="">MoneyTips#update()</button>
            </dd>

            <dd>
                金额: <input type="text" name="m2" datatype="n-12.4" class="js_bizMoneyTips" />
                <button type="button" class="js_updateBmt" data-value="12345678910.12">MoneyTips#update( 12345678910.12 )</button>
            </dd>
        </dl>


        <dl>
            <dt>4位小数点</dt>
            <dd>
                金额: <input type="text" name="m1" value="6543.21" 
                datatype="n-12.4" class="js_bizMoneyTips" bmtDisplayLabel="/span.js_bmtSpan" />
                <em class="error"></em>
                <span class="js_bmtSpan"></span>
                <button type="button" class="js_updateBmt" data-value="">MoneyTips#update()</button>
            </dd>

            <dd>
                金额: <input type="text" name="m2" datatype="n-12.4" class="js_bizMoneyTips" />
                <button type="button" class="js_updateBmt" data-value="12345678910.12">MoneyTips#update( 12345678910.12 )</button>
            </dd>
        </dl>

        <dl>
            <dt>8位小数点</dt>
            <dd>
                金额: <input type="text" name="m1" value="6543.21" 
                datatype="n-12.8" class="js_bizMoneyTips" bmtDisplayLabel="/span.js_bmtSpan" />
                <em class="error"></em>
                <span class="js_bmtSpan"></span>
                <button type="button" class="js_updateBmt" data-value="">MoneyTips#update()</button>
            </dd>

            <dd>
                金额: <input type="text" name="m2" datatype="n-12.8" class="js_bizMoneyTips" />
                <button type="button" class="js_updateBmt" data-value="12345678910.12">MoneyTips#update( 12345678910.12 )</button>
            </dd>

        </dl>
    </form>
</body>
</html>
