<!doctype html>
<html>
<head>
<meta charset=utf-8 />
<title>Open JQuery Components Library - suches</title>
    <style>
        body{
            margin: 20px 40px;
        }

        .defDl > dd{
            border-bottom:1px solid #e2e3ea; 
        }

        table {
            width: 100%
        }

        table .updatediv {
            margin-top: 20px;
            padding-left: 20px;
            float: left;
            width: 45%;
        }

        .updatediv h2 {
            height: 30px;
            line-height: 30px;
        }

        .updatediv button {
            margin-left: 10px;
        }

        table textarea {
            height: 300px;
            width: 500px;
        }

    </style>
    
</head>    
<body>
    <h2>JC.FChart - hstack chart 示例</h2>

    <div class="js_jchartTest"></div>

    <dl class="defDl">
        <dd>
            <div class="js_compFChart"
                chartScriptData="/script"
                chartHeight="400"
                >
                <script type="text/template">
                    {
                        chart: {
                            type: 'hstack' 
                        }
                        , title: {
                            text:'Chart Title'
                        },
                        subtitle: {
                        }, 
                        xAxis: {
                            categories: [ '111111', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '122222' ]
                        }, 
                        yAxis: {
                            title: {
                                text: '(Vertical Title - 中文)'
                            }
                        },
                        series:[{
                            name: 'Temperature',
                            data: [10, 0, 3, 10, 20, 27, 28, 32, 30, 25, 15, 5]
                        }, {
                            name: 'Rainfall',
                            data: [20, 21, 20, 100, 200, 210, 220, 100, 20, 10, 20, 10]
                        }],
                        credits: {
                            enabled: true,
                            text: 'fchart.openjavascript.org',
                            href: 'http://fchart.openjavascript.org/'
                        },
                        floatLen: 0
                    }
                </script>
            </div>
        </dd>
    </dl>
    <table>
        <tr>
            <td>
                <div class="updatediv">
                    <h2>
                        hstack Animate
                        <button type="button" class="js_updateChart">update</button>
                    </h2>
                    <textarea>
    {
        "subtitle": { }, 
        "xAxis": {
            "categories": [
                "A级客户", 
                "B级客户", 
                "C级客户", 
                "D级客户"
            ]
        }, 
        "yAxis": {
            "format": "{0}"
        }, 
        "tooltip": {
            "pointFormat": "{0}", 
            "headerFormat": "{0}"
        }, 
        "series": [
            {
                "name": "销售一部", 
                "data": [
                    20, 
                    30, 
                    40, 
                    50
                ], 
                "format": "{0}"
            }, 
            {
                "name": "销售二部", 
                "data": [
                    10, 
                    20, 
                    35, 
                    50
                ], 
                "format": "{0}"
            }, 
            {
                "name": "销售三部", 
                "data": [
                    5, 
                    30, 
                    20, 
                    10
                ], 
                "format": "{0}"
            }, 
            {
                "name": "销售四部", 
                "data": [
                    12, 
                    32, 
                    13, 
                    23
                ], 
                "format": "{0}"
            }, 
            {
                "name": "销售五部", 
                "data": [
                    9, 
                    12, 
                    31, 
                    23
                ], 
                "format": "{0}"
            }
        ], 
        "credits": {
            "enabled": false, 
            "text": "fchart.openjavascript.org", 
            "href": "http://fchart.openjavascript.org/"
        }, 
        "displayAllLabel": true, 
        "legend": {
            "enabled": true
        }, 
        "animation": {
            "enabled": true, 
            "duration": 0.75
        }
    }
                    </textarea>
                </div>
                <div class="updatediv">
                    <h2>
                        hstack Data
                        <button type="button" class="js_updateChart">update</button>
                    </h2>
                    <textarea>
    {
        "title": {
            "text": "test title 中文"
        }, 
        "subtitle": {
            "text": "test subtitle 中文"
        }, 
        "yAxis": {
            "title": {
                "text": "vtitle 中文"
            }
        }, 
        "credits": {
            "enabled": true, 
            "text": "fchart.openjavascript.org", 
            "href": "http://fchart.openjavascript.org/"
        }, 
        "xAxis": {
            "categories": [
                2111111111111, 
                2, 
                3, 
                4, 
                5, 
                6, 
                7, 
                8, 
                999999999999
            ], 
            "tipTitlePostfix": "{0}月"
        }, 
        "series": [
            {
                "name": "Temperature", 
                "data": [
                    -50, 
                    -1, 
                    -3, 
                    10.01, 
                    -20, 
                    -27, 
                    -28, 
                    -32, 
                    -30
                ]
            }, 
            {
                "name": "Rainfall1", 
                "data": [
                    -20.1, 
                    -21, 
                    50, 
                    100, 
                    -10, 
                    -210, 
                    -220, 
                    -100, 
                    -20
                ]
            }, 
            {
                "name": "Rainfall2", 
                "data": [
                    -30, 
                    -21, 
                    -20, 
                    -100, 
                    -10, 
                    -210, 
                    -20, 
                    -100, 
                    -20
                ]
            }, 
            {
                "name": "Rainfall3", 
                "data": [
                    -40, 
                    -21, 
                    -20, 
                    -100, 
                    -10, 
                    -210, 
                    -120, 
                    -100, 
                    -20
                ]
            }
        ], 
        "legend": {
            "enabled": true
        }, 
        "displayAllLabel": false
    }
                    </textarea>
                    
                </div>
            </td>
        </tr>
    </table>

    <script src="../../../../../lib.js"></script>
    <script src="../../../../../config.js"></script>
    <script>
        JC.debug = true;

        requirejs( [ 'JC.FChart' ], function(){

            $( document ).delegate( 'button.js_updateChart', 'click', function( _evt ){

                var _data = $( _evt.target ).closest( 'div' ).find( 'textarea' ).val().trim();

                $( '.js_compFChart object' )[ 0 ].update( $.parseJSON( _data ) );

            } );
        } );
    </script>
</body>
</html>


