<!doctype html>
<html>
<head>
<meta charset=utf-8 />
<title>Open JQuery Components Library - suches</title>
    <style>
        body{
            margin: 20px 40px;
        }

        .defDl > dd{
            border-bottom:1px solid #e2e3ea; 
        }

        table {
            width: 100%
        }

        table .updatediv {
            margin-top: 20px;
            padding-left: 20px;
            float: left;
            width: 45%;
        }

        .updatediv h2 {
            height: 30px;
            line-height: 30px;
        }

        .updatediv button {
            margin-left: 10px;
        }

        table textarea {
            height: 300px;
            width: 500px;
        }

    </style>
    
</head>    
<body>
    <h2>JC.FChart - mix chart 示例</h2>

    <div class="js_jchartTest"></div>

    <dl class="defDl">
        <dd>
            <div class="js_compFChart"
                chartScriptData="/script"
                chartHeight="400"
                >
                <script type="text/template">
				{
					"chart": {
						"type": "mix"
					}
					, "title": {
						"text": "日趋势"
					}
					, "subtitle": {
						"text": "日趋势 subtitle"
					}
					, "xAxis": {
						"categories": [
							"2014-11-17",
							"2014-11-18",
							"2014-11-19",
							"2014-11-20",
							"2014-11-21"
						]
						, "displayAll": {
							"enabled": true
						}
					},
					"yAxis": [
						{
							"title": {
								"text": "test vtitle"
								, "enabled": 1
							}
						}
						, {
							"autoRate": {
								"enabled": true
							}
							, "title": {
								"text": "test vtitle 1"
								, "enabled": 1
							}
						}
						, {
							opposite: true
							, "title": {
								"text": "test vtitle 2"
								, "enabled": 1
							}
						}
						, {
							opposite: true
							, "autoRate": {
								"enabled": true
								, "rateUp": 0
								, "maxOffset": .1
								, "minOffset": .1
							}
							, "title": {
								"text": "test vtitle 3"
								, "enabled": 1
							}
						}
					],
					"animation": {
						"enabled": true
					},
					"series": [
						{
							"type": "bar",
							"name": "MG名爵",
							"yAxis": 0,
							"data": [
								4039,
								2828,
								1567,
								5531,
								3544
							],
							"style": {
								"stroke": "#ff7100"
							},
							"pointStyle": {}
						}
						, {
							"type": "bar",
							"name": "MG名爵1",
							"yAxis": 1,
							"data": [
								5039,
								3828,
								2567,
								6531,
								4544
							],
							"style": {
								"stroke": "#ff7100"
							},
							"pointStyle": {}
						}
						, {
							"type": "line",
							"name": "北汽",
							"yAxis": 2,
							"data": [
								81018,
								80207,
								84018,
								85313,
								84018
							],
							"style": {
								"stroke": "#ff7100"
							},
							"pointStyle": {}
						}						, {
							"type": "line",
							"name": "北汽1",
							"yAxis": 3,
							"data": [
								34018,
								41018,
								40207,
								34018,
								25313
							],
							"style": {
								"stroke": "#ff7100"
							},
							"pointStyle": {}
						}
					],
					"legend": {
						"enabled": true
						, "direction": "TOP_RIGHT"
						, "margin": { "bottom": 0, "y": -5 }
					},
					"plotOptions": {
						/*
						"area": {
						"fillColor": {}
						}
						*/
					},
					/*
					"colors": [
					"0xbb9b3e",
					"0x4673c0"
					],
					*/
					"callback": {
						"initedCallback": "initedCallback"
					}
				}
                </script>
            </div>
        </dd>
    </dl>
    <table>
        <tr>
            <td>
                <div class="updatediv">
                    <h2>
                        MixChart Animate
                        <button type="button" class="js_updateChart">update</button>
                    </h2>
                    <textarea>
				{
					"chart": {
						"type": "mix"
					}
					, "title": {
						"text": "日趋势"
					}
					, "xAxis": {
						"categories": [
							"2014-11-17",
							"2014-11-18",
							"2014-11-19",
							"2014-11-20",
							"2014-11-21"
						]
						, "displayAll": {
							"enabled": true
						}
					},
					"yAxis": [
						{
						}
						, {
							"opposite": true
                            , "autoRate": {
                                "enabled": true
                                , "minOffset": 0.1
                            }
						}
					],
					"animation": {
						"enabled": true
					},
					"series": [
						{
							"type": "bar",
							"name": "MG名爵",
							"data": [
								4039,
								2828,
								1567,
								5531,
								3544
							],
							"style": {
								"stroke": 0xff7100
							},
							"pointStyle": {}
						}
						, {
							"type": "line",
							"name": "北汽",
							"yAxis": 1,
							"data": [
								81018,
								80207,
								84018,
								85313,
								84018
							],
							"style": {
								"stroke": 0xff7100
							},
							"pointStyle": {}
						}
					],
					"legend": {
						"enabled": true
                        , "direction": "BOTTOM_RIGHT"
					},
					"callback": {
						"initedCallback": "initedCallback"
					}
				}
                    </textarea>
                </div>
                <div class="updatediv">
                    <h2>
                        MixChart Data
                        <button type="button" class="js_updateChart">update</button>
                    </h2>
                    <textarea>
				{
					"chart": {
						"type": "mix"
					}
					, "title": {
						"text": "日趋势"
					}
					, "xAxis": {
						"categories": [
							"2014-11-17",
							"2014-11-18",
							"2014-11-19",
							"2014-11-20",
							"2014-11-21"
						]
						, "displayAll": {
							"enabled": true
						}
					},
					"yAxis": [
						{
						}
						, {
							opposite: true
                            , "autoRate": {
                                "enabled": true
                                , "minOffset": .1
                            }
						}
					],
					"animation": {
						"enabled": true
					},
					"series": [
						{
							"type": "bar",
							"name": "MG名爵",
							"data": [
								4039,
								2828,
								1567,
								5531,
								3544
							],
							"style": {
								"stroke": 0xff7100
							},
							"pointStyle": {}
						}
						, {
							"type": "bar",
							"name": "北汽",
							"yAxis": 1,
							"data": [
								81018,
								80207,
								84018,
								85313,
								84018
							],
							"style": {
								"stroke": 0xff7100
							},
							"pointStyle": {}
						}
					],
					"legend": {
						"enabled": true
                        , "direction": "BOTTOM_RIGHT"
					},
					"callback": {
						"initedCallback": "initedCallback"
					}
				}
                    </textarea>
                    
                </div>
            </td>
        </tr>
    </table>

    <script src="../../../../../lib.js"></script>
    <script src="../../../../../config.js"></script>
    <script>
        JC.debug = true;

        requirejs( [ 'JC.FChart' ], function(){

            $( document ).delegate( 'button.js_updateChart', 'click', function( _evt ){

                var _data = $( _evt.target ).closest( 'div' ).find( 'textarea' ).val().trim();
                $( '.js_compFChart object' )[ 0 ].update( eval( '(' + _data + ')' ) );

            } );
        } );
    </script>
</body>
</html>


