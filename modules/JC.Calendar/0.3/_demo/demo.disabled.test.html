<!doctype html>
<html>
<head>
<meta charset=utf-8 />
<title>360 75 team</title>
<style type='text/css'>
    *{ margin: 0; padding: 0; }
    body{ width: 600px; margin: 80px 80px; background:#ececec; }
    dl dd{ margin: 10px 0; }
</style>
<link href='../../../../modules/JC.Calendar/0.3/res/default/style.css' rel='stylesheet' />
<link href='../../../../modules/JC.Valid/0.2/res/default/style.css' rel='stylesheet' />
<script src="../../../../lib.js"></script>
<script src="../../../../config.js"></script>
<script>
    JC.debug = true; 
    
    requirejs( [ 'JC.Calendar', 'JC.Valid' ], function( Calendar, Valid ){
    });

    $(document).delegate( 'button.js_disabledTest', 'click', function($evt){
        disabledTest( $( this ) );
    });

    function disabledTest( _item ){
        _arg = _item.data( 'value' );

        if( _arg == "1" ){
            $( 'input.js_aptitudeExpire' )
                .prop( 'disabled', true )
                .each( function( _k, _sitem ){
                    _sitem = $( _sitem );
                    _sitem.val( JC.f.formatISODate( JC.f.dateDetect(  _sitem.attr( 'testdate' ) ) ) )
                });
                ;
        }else{
            $( 'input.js_aptitudeExpire' ).prop( 'disabled', false );
        }
    }
</script>
</head>    
<body>
    <h2>JC.Calendar 示例</h2>
    <form action='' method='get'>
        <dl>
            <dt>minvalue test</dt>
            <dd>
                <input type="text" class="ipt js_aptitudeExpire" name="qualification_fail_date[0][]" 
                    datatype="date" reqmsg="失效日期" value="now,30d" minvalue="now,1m" testdate="now"
                    />
                <em class="error"></em>
            </dd>
            <dd>
                <input type="text" class="ipt js_aptitudeExpire" name="qualification_fail_date[0][]" 
                    datatype="date" reqmsg="失效日期" value="now,30d" minvalue="now,1m" testdate="now"
                    />
                <em class="error"></em>
            </dd>
        </dl>
        <dl>
            <dt>maxvalue test</dt>
            <dd>
                <input type="text" class="ipt js_aptitudeExpire" name="qualification_fail_date[0][]" 
                    datatype="date" reqmsg="失效日期" value="now,30d" minvalue="now,1m" maxvalue="now,1y" testdate="now,1y,1m"
                    />
                <em class="error"></em>
            </dd>
            <dd>
                <input type="text" class="ipt js_aptitudeExpire" name="qualification_fail_date[0][]" 
                    datatype="date" reqmsg="失效日期" value="now,30d" minvalue="now,1m" maxvalue="now,1y" testdate="now,1y,1m"

                    />
                <em class="error"></em>
            </dd>
        </dl>

        <div>
            <button type="button" data-value="1" class="js_disabledTest">disabled</button>
            <button type="button" data-value="0" class="js_disabledTest">enabled</button>
        </div>
    </form>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
</body>
</html>

