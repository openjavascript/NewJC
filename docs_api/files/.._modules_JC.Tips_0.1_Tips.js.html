<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>../modules/JC.Tips/0.1/Tips.js - open jquery components library</title>
    <link rel="stylesheet" href="../assets/css/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/widget.css">
    <link rel="stylesheet" href="../assets/css/tabview.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="../assets/js/yui-min.js"></script>
    <script src="../assets/js/comps1.js"></script>
    <script src="../assets/js/comps2.js"></script>
    <script src="../assets/js/comps3.js"></script>
    <script src="../assets/js/comps4.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../jc_logo.png" title="open jquery components library"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/JC.AjaxTree.html">JC.AjaxTree</a></li>
            
                <li><a href="../classes/JC.AjaxUpload.html">JC.AjaxUpload</a></li>
            
                <li><a href="../classes/JC.alert.html">JC.alert</a></li>
            
                <li><a href="../classes/JC.AutoChecked.html">JC.AutoChecked</a></li>
            
                <li><a href="../classes/JC.AutoComplete.html">JC.AutoComplete</a></li>
            
                <li><a href="../classes/JC.AutoFixed.html">JC.AutoFixed</a></li>
            
                <li><a href="../classes/JC.AutoSelect.html">JC.AutoSelect</a></li>
            
                <li><a href="../classes/JC.BaseMVC.html">JC.BaseMVC</a></li>
            
                <li><a href="../classes/JC.BaseMVC.Model.html">JC.BaseMVC.Model</a></li>
            
                <li><a href="../classes/JC.Calendar.html">JC.Calendar</a></li>
            
                <li><a href="../classes/JC.common.html">JC.common</a></li>
            
                <li><a href="../classes/JC.confirm.html">JC.confirm</a></li>
            
                <li><a href="../classes/JC.Cover.html">JC.Cover</a></li>
            
                <li><a href="../classes/JC.DCalendar.html">JC.DCalendar</a></li>
            
                <li><a href="../classes/JC.Dialog.html">JC.Dialog</a></li>
            
                <li><a href="../classes/JC.Dialog.alert.html">JC.Dialog.alert</a></li>
            
                <li><a href="../classes/JC.Dialog.confirm.html">JC.Dialog.confirm</a></li>
            
                <li><a href="../classes/JC.Dialog.mask.html">JC.Dialog.mask</a></li>
            
                <li><a href="../classes/JC.Dialog.msgbox.html">JC.Dialog.msgbox</a></li>
            
                <li><a href="../classes/JC.Drag.html">JC.Drag</a></li>
            
                <li><a href="../classes/JC.DragSelect.html">JC.DragSelect</a></li>
            
                <li><a href="../classes/JC.f.html">JC.f</a></li>
            
                <li><a href="../classes/JC.FChart.html">JC.FChart</a></li>
            
                <li><a href="../classes/JC.Fixed.html">JC.Fixed</a></li>
            
                <li><a href="../classes/JC.FlowChart.html">JC.FlowChart</a></li>
            
                <li><a href="../classes/JC.FormFillUrl.html">JC.FormFillUrl</a></li>
            
                <li><a href="../classes/JC.FrameUtil.html">JC.FrameUtil</a></li>
            
                <li><a href="../classes/JC.hideAllPanel.html">JC.hideAllPanel</a></li>
            
                <li><a href="../classes/JC.hideAllPopup.html">JC.hideAllPopup</a></li>
            
                <li><a href="../classes/JC.ImageCutter.html">JC.ImageCutter</a></li>
            
                <li><a href="../classes/JC.LunarCalendar.html">JC.LunarCalendar</a></li>
            
                <li><a href="../classes/JC.LunarCalendar.Model.html">JC.LunarCalendar.Model</a></li>
            
                <li><a href="../classes/JC.LunarCalendar.View.html">JC.LunarCalendar.View</a></li>
            
                <li><a href="../classes/JC.msgbox.html">JC.msgbox</a></li>
            
                <li><a href="../classes/JC.NSlider.html">JC.NSlider</a></li>
            
                <li><a href="../classes/JC.NumericStepper.html">JC.NumericStepper</a></li>
            
                <li><a href="../classes/JC.Paginator.html">JC.Paginator</a></li>
            
                <li><a href="../classes/JC.Panel.html">JC.Panel</a></li>
            
                <li><a href="../classes/JC.Panel.Model.html">JC.Panel.Model</a></li>
            
                <li><a href="../classes/JC.Panel.View.html">JC.Panel.View</a></li>
            
                <li><a href="../classes/JC.Placeholder.html">JC.Placeholder</a></li>
            
                <li><a href="../classes/JC.PopTips.html">JC.PopTips</a></li>
            
                <li><a href="../classes/JC.Rate.html">JC.Rate</a></li>
            
                <li><a href="../classes/JC.Scrollbar.html">JC.Scrollbar</a></li>
            
                <li><a href="../classes/JC.ServerSort.html">JC.ServerSort</a></li>
            
                <li><a href="../classes/JC.Slider.html">JC.Slider</a></li>
            
                <li><a href="../classes/JC.Slider.Model.html">JC.Slider.Model</a></li>
            
                <li><a href="../classes/JC.StepControl.html">JC.StepControl</a></li>
            
                <li><a href="../classes/JC.Suggest.html">JC.Suggest</a></li>
            
                <li><a href="../classes/JC.Tab.html">JC.Tab</a></li>
            
                <li><a href="../classes/JC.Tab.Model.html">JC.Tab.Model</a></li>
            
                <li><a href="../classes/JC.Tab.View.html">JC.Tab.View</a></li>
            
                <li><a href="../classes/JC.TableFreeze.html">JC.TableFreeze</a></li>
            
                <li><a href="../classes/JC.Tips.html">JC.Tips</a></li>
            
                <li><a href="../classes/JC.Tips.Model.html">JC.Tips.Model</a></li>
            
                <li><a href="../classes/JC.Tips.View.html">JC.Tips.View</a></li>
            
                <li><a href="../classes/JC.Tree.html">JC.Tree</a></li>
            
                <li><a href="../classes/JC.Tree.Model.html">JC.Tree.Model</a></li>
            
                <li><a href="../classes/JC.Valid.html">JC.Valid</a></li>
            
                <li><a href="../classes/window.Bizs.ActionLogic.html">window.Bizs.ActionLogic</a></li>
            
                <li><a href="../classes/window.Bizs.AutoSelectComplete.html">window.Bizs.AutoSelectComplete</a></li>
            
                <li><a href="../classes/window.Bizs.ChangeLogic.html">window.Bizs.ChangeLogic</a></li>
            
                <li><a href="../classes/window.Bizs.CommonModify.html">window.Bizs.CommonModify</a></li>
            
                <li><a href="../classes/window.Bizs.CRMSchedule.html">window.Bizs.CRMSchedule</a></li>
            
                <li><a href="../classes/window.Bizs.CustomColumn.html">window.Bizs.CustomColumn</a></li>
            
                <li><a href="../classes/window.Bizs.DisableLogic.html">window.Bizs.DisableLogic</a></li>
            
                <li><a href="../classes/window.Bizs.DMultiDate.html">window.Bizs.DMultiDate</a></li>
            
                <li><a href="../classes/window.Bizs.DropdownTree.html">window.Bizs.DropdownTree</a></li>
            
                <li><a href="../classes/window.Bizs.FormLogic.html">window.Bizs.FormLogic</a></li>
            
                <li><a href="../classes/window.Bizs.InputSelect.html">window.Bizs.InputSelect</a></li>
            
                <li><a href="../classes/window.Bizs.KillISPCache.html">window.Bizs.KillISPCache</a></li>
            
                <li><a href="../classes/window.Bizs.MoneyTips.html">window.Bizs.MoneyTips</a></li>
            
                <li><a href="../classes/window.Bizs.MultiAutoComplete.html">window.Bizs.MultiAutoComplete</a></li>
            
                <li><a href="../classes/window.Bizs.MultiChangeLogic.html">window.Bizs.MultiChangeLogic</a></li>
            
                <li><a href="../classes/window.Bizs.MultiDate.html">window.Bizs.MultiDate</a></li>
            
                <li><a href="../classes/window.Bizs.MultiSelect.html">window.Bizs.MultiSelect</a></li>
            
                <li><a href="../classes/window.Bizs.MultiselectPanel.html">window.Bizs.MultiselectPanel</a></li>
            
                <li><a href="../classes/window.Bizs.MultiSelectTree.html">window.Bizs.MultiSelectTree</a></li>
            
                <li><a href="../classes/window.Bizs.MultiUpload.html">window.Bizs.MultiUpload</a></li>
            
                <li><a href="../classes/window.Bizs.TaskViewer.html">window.Bizs.TaskViewer</a></li>
            
                <li><a href="../classes/window.jQuery.html">window.jQuery</a></li>
            
                <li><a href="../classes/window.jQuery.mousewheel.html">window.jQuery.mousewheel</a></li>
            
                <li><a href="../classes/window.JSON.html">window.JSON</a></li>
            
                <li><a href="../classes/window.Raphael.html">window.Raphael</a></li>
            
                <li><a href="../classes/window.requirejs.html">window.requirejs</a></li>
            
                <li><a href="../classes/window.swfobject.html">window.swfobject</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ../modules/JC.Tips/0.1/Tips.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
;(function(define, _win) { &#x27;use strict&#x27;; define( &#x27;JC.Tips&#x27;, [ &#x27;JC.common&#x27; ], function(){
    window.Tips = JC.Tips = Tips;
    /**
     * Tips 提示信息类
     * &lt;br /&gt;显示标签的 title/tipsData 属性 为 Tips 样式
     * &lt;p&gt;导入该类后, 页面加载完毕后, 会自己初始化所有带 title/tipsData 属性的标签为 Tips效果的标签
     * &lt;br /&gt;如果要禁用自动初始化, 请把静态属性  Tips.autoInit 置为 false&lt;/p&gt;
     * &lt;p&gt;&lt;b&gt;注意:&lt;/b&gt; Tips 默认构造函数只处理单一标签
     * &lt;br /&gt;, 如果需要处理多个标签, 请使用静态方法 Tips.init( _selector )&lt;/p&gt;
     * &lt;p&gt;&lt;b&gt;require&lt;/b&gt;: 
     *      &lt;a href=&#x27;window.jQuery.html&#x27;&gt;jQuery&lt;/a&gt;
     *      , &lt;a href=&#x27;JC.common.html&#x27;&gt;JC.common&lt;/a&gt;
     * &lt;/p&gt;
     * &lt;p&gt;&lt;a href=&#x27;https://github.com/openjavascript/jquerycomps&#x27; target=&#x27;_blank&#x27;&gt;JC Project Site&lt;/a&gt;
     * | &lt;a href=&#x27;http://jc2.openjavascript.org/docs_api/classes/JC.Tips.html&#x27; target=&#x27;_blank&#x27;&gt;API docs&lt;/a&gt;
     * | &lt;a href=&#x27;../../modules/JC.Tips/0.1/_demo&#x27; target=&#x27;_blank&#x27;&gt;demo link&lt;/a&gt;&lt;/p&gt;
     * &lt;h2&gt;可用的 html attribute&lt;/h2&gt;
     * &lt;dl&gt;
     *      &lt;dt&gt;tipsinitedcallback: function&lt;/dt&gt;
     *      &lt;dd&gt;初始完毕时的回调&lt;/dd&gt;
     *
     *      &lt;dt&gt;tipsshowcallback: function&lt;/dt&gt;
     *      &lt;dd&gt;显示后的回调&lt;/dd&gt;
     *
     *      &lt;dt&gt;tipshidecallback: function&lt;/dt&gt;
     *      &lt;dd&gt;隐藏后的回调&lt;/dd&gt;
     *
     *      &lt;dt&gt;tipstemplatebox: selector&lt;/dt&gt;
     *      &lt;dd&gt;指定tips的显示模板&lt;/dd&gt;
     *
     *      &lt;dt&gt;tipsupdateonce: bool&lt;/dt&gt;
     *      &lt;dd&gt;tips 内容只更新一次, 这个属性应当与 tipstemplatebox同时使用&lt;/dd&gt;
     *
     * &lt;/dl&gt;
     * @namespace JC
     * @class Tips
     * @constructor
     * @param   {selector|string}   _selector   要显示 Tips 效果的标签, 这是单一标签, 需要显示多个请显示 Tips.init 方法
     * @version dev 0.1
     * @author  qiushaowei   &lt;suches@btbtd.org&gt; | 75 team
     * @date    2013-06-23
     * @example
            &lt;script src=&quot;../../../lib.js&quot;&gt;&lt;/script&gt;
            &lt;script src=&quot;../../../config.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
                requirejs( [ &#x27;JC.Tips&#x27; ], function(){
                    //默认是自动初始化, 也就是只要导入 JC.Tips 就会自己初始化 带 title/tipsData 属性的标签
                    //下面示例是手动初始化
                    JC.Tips.autoInit = false;
                    JC.Tips.init( $( &#x27;a[title]&#x27; ) ); 
                });
            &lt;/script&gt;
     */
    function Tips( _selector ){
        _selector = $(_selector);
        if( !(_selector &amp;&amp; _selector.length ) ) return this;
        if( _selector.length &gt; 1 ){
            return Tips.init( _selector );
        }
        if( Tips.getInstance( _selector ) ) return Tips.getInstance( _selector );
        Tips.getInstance( _selector, this );
        /**
         * 数据模型类实例引用 
         * @property    _model
         * @type        JC.Tips.Model 
         * @private
         */
        this._model = new Model( _selector );
        /**
         * 视图类实例引用 
         * @property    _view
         * @type        JC.Tips.View
         * @private
         */
        this._view = new View( this._model );

        this._init();
    }

    Tips.prototype = {
        /**
         * 初始化 Tips 内部属性
         * @method  _init
         * @private
         */
        _init:
            function(){
                var _p = this;

                $(this._view).on(&#x27;BindEvent&#x27;, function( _evt, _evtName, _cb ){
                    _p.on( _evtName, _cb );
                });

                $(this._view).on(&#x27;TriggerEvent&#x27;, function( _evt, _evtName, _data ){
                    _p.trigger( _evtName, _data );
                });

                this._view.init();

                this._model.selector().on( &#x27;mouseenter&#x27;, tipMouseenter );
                return this;
            }    
        /**
         * 显示 Tips
         * @method  show
         * @param   {event|object}  _evt    _evt 可以是事件/或者带 pageX &amp;&amp; pageY 属性的 Object
         *                                  &lt;br /&gt;pageX 和 pageY 是显示位于整个文档的绝对 x/y 轴位置
         * @return  TipsInstance
         */
        , show:
            function( _evt ){
                this._view.show( _evt );
                return this;
            }
        /**
         * 隐藏 Tips
         * @method  hide
         * @return  TipsInstance
         */
        , hide: function(){ this._view.hide(); return this; }
        /**
         * 获取 显示 tips 的触发源选择器, 比如 a 标签
         * @method  selector
         * @return  selector
         */ 
        , selector: function(){ return this._model.selector(); }
        /**
         * 获取 tips 外观的 选择器
         * @method  layout
         * @param   {bool}  _update     是否更新 Tips 数据
         * @return  selector
         */
        , layout: function( _update ){ return this._view.layout( _update ); }
        /**
         * 获取 tips 显示的内容
         * @method  data
         * @return  string
         */
        , data: function(){ return this._model.data() }
        /**
         * 使用 jquery on 绑定事件
         * @method  {string}    on
         * @param   {string}    _evtName
         * @param   {function}  _cb
         * @return  TipsInstance
         */
        , on: function( _evtName, _cb ){ $(this).on(_evtName, _cb ); return this;}
        /**
         * 使用 jquery trigger 绑定事件
         * @method  {string}    trigger
         * @param   {string}    _evtName
         * @return  TipsInstance
         */
        , trigger: function( _evtName, _data ){ $(this).trigger( _evtName, _data ); return this;}
    };
    /**
     * tips 初始化实例后的触发的事件
     * &lt;br /&gt;在HTML属性定义回调 tipsinitedcallback =&quot;function name&quot;
     * @event   TipsInited
     */
    /**
     * tips 显示后的回调
     * &lt;br /&gt;在HTML属性定义回调 tipsshowcallback=&quot;function name&quot;
     * @event   TipsShow
     */
    /**
     * tips 显示前的回调
     * &lt;br /&gt;在HTML属性定义回调 tipsbeforeshowcallback=&quot;function name&quot;
     * @event   TipsBeforeShow
     */
    /**
     * tips 隐藏后的回调
     * &lt;br /&gt;在HTML属性定义回调 tipshidecallback=&quot;function name&quot;
     * @event   TipsHide
     */
    /**
     * 批量初始化 Tips 效果
     * @method  init
     * @param   {selector}  _selector   选择器列表对象, 如果带 title/tipsData 属性则会初始化 Tips 效果
     * @static
     * @example
            &lt;script src=&quot;../../../lib.js&quot;&gt;&lt;/script&gt;
            &lt;script src=&quot;../../../config.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
                requirejs( [ &#x27;JC.Tips&#x27; ], function(){
                    JC.Tips.autoInit = false;
                    JC.Tips.init( $( &#x27;a&#x27; ) ); 
                });
            &lt;/script&gt;
     */
    Tips.init = 
        function( _selector ){
            if( !_selector ) return;
            _selector = $(_selector);
            if( !_selector.length ) return;
            var _r = [];
            _selector.each( function(){
                var _p = $(this);
                if( Tips.getInstance( _p ) ) return;
                _r.push( new Tips( _p ) );
            });
            return _r;
        };
    /**
     * 隐藏 Tips 
     * @method  hide
     * @static
     */
    Tips.hide =
        function(){
            $(&#x27;body &gt; div.UTips&#x27;).hide();
        }
    /**
     * 页面加载完毕后, 是否自动初始化
     * @property    autoInit
     * @type        bool
     * @default     true
     * @static
     */
    Tips.autoInit = true;
    /**
     * 用户自定义模板
     * &lt;br /&gt; 如果用户显式覆盖此属性, Tips 会使用用户定义的模板
     * @property    tpl
     * @type        string
     * @default     null
     * @static
     */
    Tips.tpl = null;
    /**
     * 设置 Tips 超过边界的默认偏移像素
     * &lt;p&gt;
     * bottom: 边界超过屏幕底部的偏移
     * &lt;br /&gt;left: 边界低于屏幕左侧的偏移
     * &lt;br /&gt;top: 边界低于屏幕顶部的偏移
     * &lt;/p&gt;
     * @property    offset  
     * @type        {point object}
     * @default     { &#x27;bottom&#x27;: { &#x27;x&#x27;: 15, &#x27;y&#x27;: 15 }, &#x27;left&#x27;: { &#x27;x&#x27;: -28, &#x27;y&#x27;: 5 }, &#x27;top&#x27;: { &#x27;x&#x27;: -2, &#x27;y&#x27;: -22 } };
     * @static
     */
    Tips.offset = {
        &#x27;bottom&#x27;: { &#x27;x&#x27;: 15, &#x27;y&#x27;: 15 }
        , &#x27;left&#x27;: { &#x27;x&#x27;: -28, &#x27;y&#x27;: 5 }
        , &#x27;top&#x27;: { &#x27;x&#x27;: -2, &#x27;y&#x27;: -22 }
    };
    /**
     * Tips 的最小宽度
     * @property    minWidth
     * @type        int 
     * @default     200
     * @static
     */
    Tips.minWidth = 200;
    /**
     * Tips 的最大宽度
     * @property    maxWidth
     * @type        int 
     * @default     400
     * @static
     */
    Tips.maxWidth = 400;
    /**
     * 把 tag 的 title 属性 转为 tipsData 
     * &lt;p&gt;&lt;b&gt;注意:&lt;/b&gt; 这个方法只有当 Tips.autoInit 为假时, 或者浏览器会 IE时才会生效
     * &lt;br /&gt;Tips.autoInit 为真时, 非IE浏览器无需转换
     * &lt;br /&gt;如果为IE浏览器, 无论 Tips.autoInit 为真假, 都会进行转换
     * &lt;br /&gt;方法内部已经做了判断, 可以直接调用, 对IE会生效
     * , 这个方法的存在是因为 IE 的 title为延时显示, 所以tips显示后, 默认title会盖在tips上面
     * &lt;/p&gt;
     * @method titleToTipsdata
     * @param   {selector}  _selector   要转title 为 tipsData的选择器列表
     */
    Tips.titleToTipsdata =
        function( _selector ){
            _selector = $(_selector);
            if( !JC.Tips.autoInit || ( typeof window.event == &#x27;object&#x27; &amp;&amp; document.attachEvent ) ){
                _selector.each( function(){
                    $(this).attr( &#x27;tipsData&#x27;, $(this).attr(&#x27;title&#x27;) ).removeAttr( &#x27;title&#x27; );
                });
            }
        };
    /**
     * 从 selector 获得 或 设置 Tips 的实例
     * @method getInstance
     * @param   {selector}  _selector
     * @param   {TipsInstance}   _ins
     * @return TipsInstance
     * @static
     */
    Tips.getInstance =
        function( _selector, _ins ){
            _ins &amp;&amp; _selector &amp;&amp; $(_selector).data( &#x27;TipsIns&#x27;, _ins );
            return _selector ? $(_selector).data(&#x27;TipsIns&#x27;) : null;
        };

    /**
     * Tips 数据模型类
     * @namespace JC.Tips
     * @class   Model
     * @constructor
     * @param   {selector}  _selector
     */
    function Model( _selector ){
        /**
         * tips 默认模板
         * @property    tpl
         * @type        string
         * @default     &lt;div class=&quot;UTips&quot;&gt;&lt;/div&gt;
         */ 
        this.tpl = _defTpl;
        /**
         * 保存 tips 的触发源选择器
         * @property    _selector
         * @type        selector
         * @private
         */
        this._selector = _selector;
        /**
         * tips 的显示内容
         * &lt;br /&gt;标签的 title/tipsData 会保存在这个属性, 然后 title/tipsData 会被清除掉
         * @property    _data
         * @type        string
         * @private
         */
        this._data;
        this._init();
    }
    
    Model.prototype = {
        /**
         * 初始化 tips 模型类
         * @method  _init
         * @private
         * @static
         */
        _init:
            function(){
                this.update();
                return this;

            }
        /**
         * 获取/更新 tips 显示内容
         * @method  data
         * @param   {bool}  _update     是否更新 tips 数据
         * @return  string
         */
        , data:
            function( _update ){
                _update &amp;&amp; this.update();
                return this._data;
            }
        /**
         * 更新 tips 数据
         * @method  update
         */
        , update: 
            function(){
                if( !(this._selector.attr(&#x27;title&#x27;) || this._selector.attr(&#x27;tipsData&#x27;) ) ) return;
                this._data = $.trim( this._selector.attr(&#x27;title&#x27;) || this._selector.attr(&#x27;tipsData&#x27;) )
                             .replace( /(?:\r\n|\n\r|\r|\n)/g, &#x27;&lt;br /&gt;&#x27;);
                this._selector.removeAttr(&#x27;title&#x27;).removeAttr( &#x27;tipsData&#x27; );
                if( this.isInited() ) return;
                this.isInited(true);
            }
        /**
         * 判断 selector 是否初始化过 Tips 功能
         * @method  isInited
         * @param   {bool}  _setter
         * @return  bool
         */
        , isInited:
            function( _setter ){
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; ( this._selector.data( &#x27;initedTips&#x27;, _setter ) );
                return this._selector.data( &#x27;initedTips&#x27; );
            }
        /**
         * 获取 tips 触发源选择器
         * @method  selector
         * @return  selector
         */
        , selector: function(){ return this._selector; }
        , tipsinitedcallback:
            function(){
                var _r;
                this._selector.attr(&#x27;tipsinitedcallback&#x27;) 
                    &amp;&amp; ( _r = window[ this._selector.attr(&#x27;tipsinitedcallback&#x27;) ] );
                return _r;
            }
        , tipsshowcallback: 
            function(){
                var _r;
                this._selector.attr(&#x27;tipsshowcallback&#x27;) &amp;&amp; ( _r = window[ this._selector.attr(&#x27;tipsshowcallback&#x27;) ] );
                return _r;
            }
        , tipshidecallback: 
            function(){
                var _r;
                this._selector.attr(&#x27;tipshidecallback&#x27;) 
                    &amp;&amp; ( _r = window[ this._selector.attr(&#x27;tipshidecallback&#x27;) ] );
                return _r;
            }
        , tipstemplatebox:
            function(){
                var _r;
                this._selector.is(&#x27;[tipstemplatebox]&#x27;) 
                    &amp;&amp; ( _r = $(this._selector.attr(&#x27;tipstemplatebox&#x27;)).html().trim().replace(/[\r\n]+/g, &#x27;&#x27;) )
                    ;
                this._selector.is(&#x27;[tipstemplatesbox]&#x27;) 
                    &amp;&amp; ( _r = $(this._selector.attr(&#x27;tipstemplatesbox&#x27;)).html().trim().replace(/[\r\n]+/g, &#x27;&#x27;) )
                    ;
                return _r;
            }
        , tipstemplatesbox: function(){ return this.tipstemplatebox(); }
        , tipsupdateonce:
            function(){
                var _r;
                this._selector.attr(&#x27;tipsupdateonce&#x27;) 
                    &amp;&amp; ( _r = JC.f.parseBool( this._selector.attr(&#x27;tipsupdateonce&#x27;) ) );
                return _r;
            }
        , tipsIsUpdated: 
            function( _setter ){ 
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; this._selector.data(&#x27;TipsUpdated&#x27;, _setter);
                return this._selector.data( &#x27;TipsUpdated&#x27;);
            }
        , layout:
            function(){
                if( !this._layout ){
                    if( this.tipstemplatesbox() ){
                        this._layout = $( this.tipstemplatesbox() );
                        this._layout.appendTo(document.body);
                    }else{
                        this._layout = $(&#x27;#JCTipsLayout&#x27;);
                        if( !(this._layout &amp;&amp; this._layout.length) ){
                            this._layout = $( this.tipstemplatesbox() || JC.Tips.tpl || this.tpl);
                            this._layout.attr(&#x27;id&#x27;, &#x27;JCTipsLayout&#x27;).css(&#x27;position&#x27;, &#x27;absolute&#x27;);
                            this._layout.appendTo(document.body);
                        }
                    }
                }
                return this._layout;
           }
    };
    /**
     * Tips 视图类
     * @namespace   JC.Tips
     * @class       View
     * @constructor
     * @param       {JC.Tips.Model}    _model
     */
    function View( _model ){
        /**
         * 保存 Tips 数据模型类的实例引用
         * @property    _model
         * @type    JC.Tips.Model
         * @private
         */
        this._model = _model;
        /**
         * 保存 Tips 的显示外观选择器
         * @property    _layout
         * @type        selector
         * @private
         */
        this._layout;
    }
    
    View.prototype = {
        /**
         * 初始化 Tips 视图类
         * @method  _init
         * @private
         */
        init:
            function() {
                $(this).trigger( &#x27;BindEvent&#x27;, [ &#x27;TipsShow&#x27;, this._model.tipsshowcallback() ] );
                $(this).trigger( &#x27;BindEvent&#x27;, [ &#x27;TipsHide&#x27;, this._model.tipshidecallback() ] );
                $(this).trigger( &#x27;BindEvent&#x27;, [ &#x27;TipsInited&#x27;, this._model.tipsinitedcallback() ] );
                return this;
            }
        /**
         * 显示 Tips
         * @method  show
         * @param   {event|object}  _evt    _evt 可以是事件/或者带 pageX &amp;&amp; pageY 属性的 Object
         *                                  &lt;br /&gt;pageX 和 pageY 是显示位于整个文档的绝对 x/y 轴位置
         */
        , show:
            function( _evt ){
                //JC.log( &#x27;tips view show&#x27; );
                var _x = _evt.pageX, _y = _evt.pageY;

                _x += JC.Tips.offset.bottom.x;
                _y += JC.Tips.offset.bottom.y;

                var _stop = $(document).scrollTop(), _sleft = $(document).scrollLeft();
                var _wwidth = $(window).width(), _wheight = $(window).height();
                var _lwidth = this.layout().width(), _lheight = this.layout().height();
                var _maxX = _sleft + _wwidth - _lwidth, _minX = _sleft;
                var _maxY = _stop + _wheight - _lheight, _minY = _stop;
                var _outright = false, _outbottom = false;

                _x &gt; _maxX &amp;&amp; ( _x = _x - _lwidth + JC.Tips.offset.left.x
                                    , _y += JC.Tips.offset.left.y
                                    , _outright = true );
                _x &lt; _minX &amp;&amp; ( _x = _minX );
                _y &gt; _maxY &amp;&amp; ( _y = _y - _lheight + JC.Tips.offset.top.y
                                , _x += JC.Tips.offset.top.x
                                , _outbottom = true);
                _y &lt; _minY &amp;&amp; ( _y = _minY );

                _outright &amp;&amp; _outbottom &amp;&amp; ( _y -= 5 );

                this.layout().css( { &#x27;left&#x27;: _x + &#x27;px&#x27;, &#x27;top&#x27;: _y + &#x27;px&#x27; } );
                this.layout().show();

                $(this).trigger( &#x27;TriggerEvent&#x27;, [ &#x27;TipsShow&#x27;, this._model.tipsshowcallback() ] );
            }
        /**
         * 隐藏 Tips
         * @method  hide
         */
        , hide: function(){ 
            this.layout().hide(); 
            $(this).trigger( &#x27;TriggerEvent&#x27;, &#x27;TipsHide&#x27; );
        }
        /**
         * 获取 Tips 外观的 选择器
         * @method  layout
         * @param   {bool}  _update     是否更新 Tips 数据
         * @return  selector
         */
        , layout: 
            function( _update ){ 
                this._layout = this._model.layout();
                _update &amp;&amp; this.update();
                return this._layout; 
            }
        , update:
            function(){
                if( this._model.tipsupdateonce() &amp;&amp; this._model.tipsIsUpdated() ){
                    return;
                }
                var _data = this._model.data( 1 );
                this._layout.html( _data ).css( {&#x27;width&#x27;: &#x27;auto&#x27;
                                                        , &#x27;left&#x27;: &#x27;-9999px&#x27;
                                                        , &#x27;top&#x27;: &#x27;-9999px&#x27;
                                                        , &#x27;display&#x27;: &#x27;block&#x27; });  
                var _w = this._layout.width(), _h = this._layout.height();

                _w &lt; JC.Tips.minWidth &amp;&amp; this._layout.css(&#x27;width&#x27;, JC.Tips.minWidth + &#x27;px&#x27;);
                _w &gt; JC.Tips.maxWidth &amp;&amp; this._layout.css(&#x27;width&#x27;, JC.Tips.maxWidth + &#x27;px&#x27;);

                this._model.tipsIsUpdated( true );
            }
    };
    /**
     * 鼠标移动到 Tips 触发源的触发事件
     * @namespace   JC.Tips
     * @method  tipMouseenter
     * @param   {event}     _evt
     * @private
     * @static
     */
    function tipMouseenter( _evt ){
        var _sp = $(this), _p = Tips.getInstance( _sp );
        _p.layout( 1 ).css( &#x27;z-index&#x27;, ZINDEX_COUNT++ );
        if( !_p.data() ) return;
        _p.show( _evt );

        $(document).on(&#x27;mousemove&#x27;, tipMousemove );
        _sp.on(&#x27;mouseleave&#x27;, tipMouseleave );

        function tipMousemove( _wevt ){
            if( !_p.layout().is(&#x27;:visible&#x27;) ){
                $(document).unbind( &#x27;mousemove&#x27;, tipMousemove );
                $(_sp).unbind( &#x27;mouseleave&#x27;, tipMouseleave );
                return;
            }
            _p.show( _wevt );
        }

        function tipMouseleave( _wevt ){
            $(document).unbind( &#x27;mousemove&#x27;, tipMousemove );
            $(_sp).unbind( &#x27;mouseleave&#x27;, tipMouseleave );
            _p.hide();
        }
    }
    /**
     * Tips 的默认模板
     * @namespace   JC.Tips
     * @property    _defTpl
     * @type        string  
     * @private
     */
    var _defTpl = &#x27;&lt;div class=&quot;UTips&quot;&gt;&lt;/div&gt;&#x27;;
    /**
     * 页面加载完毕后, 是否自动初始化 Tips
     */
    $(document).ready( function( _devt ){
        JC.f.safeTimeout( function(){
            if( !JC.Tips.autoInit ) return;

            Tips.titleToTipsdata( $(&#x27;[title]&#x27;) );

            $(document).delegate(&#x27;*&#x27;, &#x27;mouseover&#x27;, function( _evt ){
                var _p = $(this);
                if( Tips.getInstance( _p ) ) return;
                if( !( _p.attr(&#x27;title&#x27;) || _p.attr(&#x27;tipsData&#x27;) ) ) return;
                JC.Tips.init( _p );
                tipMouseenter.call( this, _evt );
            });
        }, null, &#x27;COMP_INIT_TIPS&#x27;, 500 );
    });

    return JC.Tips;
});}( typeof define === &#x27;function&#x27; &amp;&amp; define.amd ? define : 
        function ( _name, _require, _cb) { 
            typeof _name == &#x27;function&#x27; &amp;&amp; ( _cb = _name );
            typeof _require == &#x27;function&#x27; &amp;&amp; ( _cb = _require ); 
            _cb &amp;&amp; _cb(); 
        }
        , window
    )
);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
